---
title: 3.匿名函数,自执行函数
tags:
categories:
- nodejs
---

### 1.1 函数声明
javascript具有“函数声明提升”的特性，即执行代码之前，先读取函数声明，意味着函数声明可以放在调用它的语句之后。如下代码可以正常执行：
```
sum(1, 2);
function sum(x, y) {
    alert(x+y);
}
```

### 1.2 函数表达式
函数表达式在使用前必须先赋值
函数表达式中，创建的函数叫做匿名函数，因为function关键字后面没有标识符。
```
var ss = function(x, y) {
    alert(x+y);
}
ss(1, 2);
```

### 2 匿名函数的调用方式
匿名函数，顾名思义就是没有名字的函数
上面的函数表达式中的创建，即创建一个匿名函数，并将匿名函数赋值给变量ss，用ss来进行函数的调用，
调用的方式就是在变量ss后面加上一对括号()，如果有参数传入的话就是ss(1,2)，这就是匿名函数的一种调用方式。
再看一下以下例子：
	1）将匿名函数用()括起来；
	2）然后在后面加一对小括号(包含参数列表)
	紧随其后的另一个圆括号会立即调用这个函数。
```
(function(x, y){return x+y;})(2, 3)  // 定义并立即调用了一个匿名函数

如a = function(){}()，"a="这个告诉了编译器这是一个函数表达式，而不是函数声明，因为函数表达式后面可以跟()

因此下面两段代码是等价的。
var aa = function(x) {
    alert(x);
}(5); // 5
(function(x){alert(x);})(5);
```

### 3 自执行函数
我们创建了一个匿名的函数，并立即执行它，由于外部无法引用它内部的变量，因此在执行完后很快就会被释放，关键是这种机制不会污染全局对象。
自执行函数，即定义和调用合为一体。
自执行函数的一些表达方式：
```
// 下面2个括号()都会立即执行  
(function () { /* code */ } ()); // 推荐使用这个  
(function () { /* code */ })(); // 但是这个也是可以用的
```



