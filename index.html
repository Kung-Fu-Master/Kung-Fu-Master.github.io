<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.1" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://kung-fu-master.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Kung-Fu-Master">
<meta name="twitter:card" content="summary"><title>Hexo</title><link ref="canonical" href="https://kung-fu-master.github.io/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.1"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return false;"><span class="header-nav-menu-item__icon"><i class="fas fa-feather-alt"></i></span><span class="header-nav-menu-item__text">文章</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/"><span class="header-nav-submenu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-submenu-item__text">分类</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/archives/"><span class="header-nav-submenu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-submenu-item__text">归档</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/tags/"><span class="header-nav-submenu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-submenu-item__text">标签</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-fingerprint"></i></span><span class="header-nav-menu-item__text">关于</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hexo</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/windows/Windows10_VScode%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5linux%E7%BC%96%E8%BE%91%E8%B0%83%E8%AF%95/">Windows10_VScode远程连接linux编辑调试</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">624</span></span></div></header><div class="post-body"><div class="post-excerpt"><ol>
<li>查看Windows10 是否已安装或开启ssh-client，默认Windows10自带的有<br>Windows 10 : 设置 -&gt; 应用(APPS) -&gt; 应用和功能(APP &amp; features) -&gt; 管理可选功能(Manage app execution aliases)<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="1.png"  alt="">
      </li>
</ol>
<p>没有的话需要点击如图上面的Add a feature，install一下.</p>
<ol start="2">
<li>Centos</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. //安装 yum install -y openssl openssh-server </span><br><span class="line">//重启sshd服务 systemctl restart sshd.service </span><br><span class="line">//自动启动 systemctl enable sshd</span><br><span class="line">2. $cd ~/.ssh/</span><br></pre></td></tr></table></div></figure>
<p>此目录如果没有authorized_keys文件需要touch新建一个，里面需要存放Window10的公匙(id_rsa.pub,另外id_rsa是Window10的密匙).</p>
<ol start="3">
<li>安装VS code， 安装扩展(Extensions)”Remote Developoment”插件，会自动安装其他的Remote插件，其中会包含Remote-SSH<br>安装完成出现如下选项<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="2.png"  alt="">
      </li>
</ol>
<p>添加config文件<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="3.png"  alt="">
      </p>
<p>添加linux主机</p>
<figure class="highlight routeros"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host 后面接空格，名字随便写，显示在左边</span><br><span class="line">HostName 主机IP</span><br><span class="line">User root</span><br></pre></td></tr></table></div></figure>
<p>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="4.png"  alt="">
      </p>
<p>右击要连接的linux，选择在当前页面或新打开Vscode<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="5.png"  alt="">
      </p>
<p>输入linux登录密码，如果出现需要输入密码多次可能之前链接过, 在linux <code>/root/.vscode-server</code> 生成有文件，删掉, 再重新用Vscode链接…<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="6.png"  alt="">
      <br>观察VScode右下角等待连接成功<br>Setting up SSH Host UserName:(details) Downloading VS Code Server<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="7.png"  alt="">
      </p>
<p>最后点击Open folder就可以了</p>
<p>后边遇到vscode一直连不上linux情况<br>解决方法一:</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> df -hl 查看linux ~/ 等主目录是否已占满，删除一些文件释放空间后再连接就可以了</span></span><br></pre></td></tr></table></div></figure>

<p>解决方法二:<br>是查看linux /tmp 临时文件发现占满了，全部删掉，再用windows上得VS code连接就可以了<br>原因是vscode连接linxu会自动在linux的/tmp生成一些文件</p>

        <h2 id="Linux-重装系统后再用windowsshangVScode连接报如下错误"   >
          <a href="#Linux-重装系统后再用windowsshangVScode连接报如下错误" class="heading-link"><i class="fas fa-link"></i></a>Linux 重装系统后再用windowsshangVScode连接报如下错误:</h2>
      <figure class="highlight routeros"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Could <span class="keyword">not</span> establish<span class="built_in"> connection </span><span class="keyword">to</span> <span class="string">"IP"</span>. The process tried <span class="keyword">to</span> write <span class="keyword">to</span> a nonexistent pipe.</span><br></pre></td></tr></table></div></figure>
<p>原因是windows与linux连接成功后会在C:\Users\用户名.ssh\known_hosts添加对应Linux的密匙信息，把它相关的内容删掉.</p>

        <h2 id="VScode-连接Linux-Waiting-for-root-vscode-server-bin-vscode-scp-done-flag-and-vscode-server-tar-gz-to-exist"   >
          <a href="#VScode-连接Linux-Waiting-for-root-vscode-server-bin-vscode-scp-done-flag-and-vscode-server-tar-gz-to-exist" class="heading-link"><i class="fas fa-link"></i></a>VScode 连接Linux Waiting for /root/.vscode-server/bin/***/vscode-scp-done.flag and vscode-server.tar.gz to exist</h2>
      <p>解决方法如下链接:<br><span class="exturl"><a class="exturl__link"   href="https://blog.csdn.net/Ding19950107/article/details/103713556"  target="_blank" rel="noopener">参考链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep vscode</span><br><span class="line">kill -9 PID</span><br><span class="line">rm -rf ~/.vscode-server</span><br></pre></td></tr></table></div></figure>

<p>再重新用Vscode链接</p>

        <h2 id="VScode链接远程机器一致让输入远程机器密码"   >
          <a href="#VScode链接远程机器一致让输入远程机器密码" class="heading-link"><i class="fas fa-link"></i></a>VScode链接远程机器一致让输入远程机器密码</h2>
      <p>解决方法是登陆远程机器然后删除/root/.vscode-server/bin/ 下最新的文件夹如</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /root/.vscode-server/bin</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -alh </span></span><br><span class="line">  drwxr-xr-x 2 root root 106 Oct  9 10:00 58bb7b2331731bf72587010e943852e13e6fd3cf</span><br><span class="line">  drwxr-xr-x 6 root root 150 Sep 13 18:28 a0479759d6e9ea56afa657e454193f72aef85bd0</span><br><span class="line">  drwxr-xr-x 6 root root 150 Sep 16 13:44 e790b931385d72cf5669fcefc51cdf65990efa5d</span><br><span class="line"><span class="meta">$</span><span class="bash"> rm -rf 58bb7b2331731bf72587010e943852e13e6fd3cf</span></span><br></pre></td></tr></table></div></figure>
<p>之后再次尝试用VScode连接远程机器就可以了</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/windows/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D/">批量修改文件名</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">268</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="批量删除文件名中的空格"   >
          <a href="#批量删除文件名中的空格" class="heading-link"><i class="fas fa-link"></i></a>批量删除文件名中的空格</h2>
      <p>在要批量修改文件名的文件夹路径下创建新bat文件<code>delete_space.bat</code>, 内容如下:</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">Setlocal Enabledelayedexpansion</span><br><span class="line">set "str= "</span><br><span class="line">for /f "delims=" %%i in ('dir /b *.*') do (</span><br><span class="line">set "var=%%i" &amp; ren "%%i" "!var:%str%=!")</span><br></pre></td></tr></table></div></figure>

<p>保存后直接双击即可</p>

        <h2 id="批量修改文件名"   >
          <a href="#批量修改文件名" class="heading-link"><i class="fas fa-link"></i></a>批量修改文件名</h2>
      <p>如上操作在要批量修改文件名的文件夹下创建<code>rename_or_delete_specified_str.bat</code>, 内容如下:</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">set /p str1= 请输入要替换的文件(文件夹)名字符串（可替换空格）：</span><br><span class="line">set /p str2= 请输入替换后的文件(文件夹)名字符串（去除则直接回车）：</span><br><span class="line">echo.</span><br><span class="line">echo 正在修改文件(夹)名中，请稍候……</span><br><span class="line">for /f "delims=" %%a in ('dir /s /b ^|sort /+65535') do (</span><br><span class="line">if "%%~nxa" neq "%~nx0" (</span><br><span class="line">set "file=%%a"</span><br><span class="line">set "name=%%~na"</span><br><span class="line">set "extension=%%~xa"</span><br><span class="line">call set "name=%%name:%str1%=%str2%%%"</span><br><span class="line">setlocal enabledelayedexpansion</span><br><span class="line">ren "!file!" "!name!!extension!" 2&gt;nul</span><br><span class="line">endlocal</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line">exit</span><br></pre></td></tr></table></div></figure>

<p>直接双击执行, 输入<code>要修改的文件名中的字符串</code>, 再输入<code>要替换成的字符串</code>, 如果不输入要替换的字符串而是直接回车则相当于<code>删除要修改的字符串</code>.  </p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/windows/%E7%AC%94%E8%AE%B0%E6%9C%AC%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2/">笔记本内存信息查询</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">241</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="内存频率和可用插槽查询"   >
          <a href="#内存频率和可用插槽查询" class="heading-link"><i class="fas fa-link"></i></a>内存频率和可用插槽查询</h2>
      <p>右键菜单栏 打开任务管理器, 点击 <code>性能</code> 栏目, 点击 <code>内存</code>  </p>
<p>已使用插槽后的数字分别对应就是已用内存插槽和可用内存插槽.  </p>
<p>速度:展示内存条速率</p>
<p>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="1.PNG"  alt="">
      </p>

        <h2 id="命令行查看内存详细信息"   >
          <a href="#命令行查看内存详细信息" class="heading-link"><i class="fas fa-link"></i></a>命令行查看内存详细信息</h2>
      <p>Win + R 输入powershell或cmd打开终端</p>
<p>在命令行界面输入wmic进入命令行系统管理执行脚本界面；</p>
<p>可以通过命令memorychip进行查看内存型号，可以看出，有1条内存，存储大小, 型号, PN号也可以看出</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\hp&gt; wmic</span><br><span class="line">wmic:root\cli&gt;memorychip</span><br><span class="line">Attributes  BankLabel  Capacity    Caption   ConfiguredClockSpeed  ConfiguredVoltage  CreationClassName     DataWidth  Description  DeviceLocator         FormFactor  HotSwappable  InstallDate  InterleaveDataDepth  InterleavePosition  Manufacturer  MaxVoltage  MemoryType  MinVoltage  Model  Name      OtherIdentifyingInfo  PartNumber        PositionInRow  PoweredOn  Removable  Replaceable  SerialNumber  SKU  SMBIOSMemoryType  Speed  Status  Tag                TotalWidth  TypeDetail  Version</span><br><span class="line">1           BANK 2     8589934592  物理内存   2400                  1200               Win32_PhysicalMemory  64         物理内存     Bottom-Slot 2(right)   12                                     1                    2                   Samsung       1350        0           1250               物理内存                        M471A1K43CB1-CRC  1                                                 9757621F           26                2400           Physical Memory 1  64          128</span><br><span class="line"></span><br><span class="line">wmic:root\cli&gt;</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/git/git_problems_encountered/">git problems encountered</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1.2k</span></span></div></header><div class="post-body"><div class="post-excerpt"><h2 id="查看github-贡献最多和增长最快链接"   >
          <a href="#查看github-贡献最多和增长最快链接" class="heading-link"><i class="fas fa-link"></i></a>查看github 贡献最多和增长最快链接:</h2>
      <p><span class="exturl"><a class="exturl__link"   href="https://octoverse.github.com/#fastest-growing-oss-projects-by-contributors"  target="_blank" rel="noopener">https://octoverse.github.com/#fastest-growing-oss-projects-by-contributors</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p></div><div class="post-readmore"><a class="post-readmore__link" href="/2021/03/13/technologies/git/git_problems_encountered/"><span class="post-readmore__text">阅读全文</span><span class="post-readmore__icon"><i class="fas fa-long-arrow-alt-right"></i></span></a></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/maven/maven_eclipse_tomcat_JDK1.8_configuration/">Maven_eclipse_tomcat_JDK1.8_configuration</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1.5k</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※<br>Windows 环境:</p>
<p>下载Maven，搜集网上配置PATH环境变量等<br>$ vim apache-maven-3.6.3\conf\settings.xml<br>$ C:\Users\UserName.m2\settings.xml (没有.m2路径就不设)</p>
<ol>
<li>设置local repository: // maven从中央仓库下载到本地仓库</li>
</ol>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>C:\Users\UserName\***\software_package\Maven\maven_repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>设置proxy:</li>
</ol>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">id</span>&gt;</span>my-proxy1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>http<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">host</span>&gt;</span>child-prc.intel.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">port</span>&gt;</span>913<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">id</span>&gt;</span>my-proxy2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>https<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">host</span>&gt;</span>child-prc.intel.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">port</span>&gt;</span>913<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>设置tomcat用户名和密码，如果tomcat安装时候或安装后tomcat的配置文件没有设置用户名和密码此处可忽略</li>
</ol>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>tomcat8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">password</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>设置aliyun 镜像:</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>打开cmd控制台输入：mvn -v 查看版本</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mvn <span class="built_in">help</span>:system		// 可看到数据正常下载即为成功</span></span><br><span class="line">// $ ping repo1.maven.org //此远程repo好像不能访问，不过没关系，上面成功即可</span><br></pre></td></tr></table></div></figure>

<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※</p>
<p>安装tomcat服务器<br><span class="exturl"><a class="exturl__link"   href="http://tomcat.apache.org/"  target="_blank" rel="noopener">http://tomcat.apache.org/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>然后配置到eclipse</p>
<p>打开C:\Program Files\Tomcat 8.5\conf\server.xml<br>    网上说需把<Server port="-1" shutdown="SHUTDOWN"> 改为 <Server port="8005" shutdown="SHUTDOWN"><br>    这里没改, 运行OK</p>
<p>打开C:\Program Files\Tomcat 8.5\conf\tomcat-users.xml<br>添加如下内容, 设置tomcat密码，也可以不设置，设置后需要在maven的**\config\settings.xml配置文件中也添加tomcat密码</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-gui"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"admin"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"admin-gui"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">"manager-script"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">"admin"</span> <span class="attr">password</span>=<span class="string">"123456"</span> <span class="attr">roles</span>=<span class="string">"admin-gui,admin,manager-gui,manager,manager-script"</span>/&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※<br>官网下载eclipse（免费）<br><span class="exturl"><a class="exturl__link"   href="https://www.eclipse.org/downloads/"  target="_blank" rel="noopener">https://www.eclipse.org/downloads/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>第一种: 下载安装包:<br>    直接点击下载，下载后安装选择Eclipse IDE for Enterprise Java Developers就可以了(提前安装配置好JDK1.8等版本环境变量)<br>第二种： 下载压缩包(解压缩时候有问题),<br>    Download Packages -&gt; Eclipse IDE for Enterprise Java Developers (includes Incubating components)压缩包<br>    -&gt; 选择中国镜像 -&gt; 下载</p>
<ol>
<li>打开eclipse, Window -&gt; Preferences -&gt; Maven -&gt; installations -&gt; Add -&gt; 选择自己装的Maven，否则内嵌的Maven没有proxy</li>
<li>打开eclipse, Window -&gt; Preferences -&gt; Maven -&gt; User Settings<br>-&gt; Global/User Settings都设置为 ***/apache-maven-3.6.3\conf\settings.xml -&gt; Update Settings -&gt; Apply -&gt; Apply and Close</li>
</ol>
<p>创建 maven web项目并运行:</p>
<ol>
<li><p>File -&gt; New -&gt; maven Project -&gt; Create a simple project(skip archetype selection)<br> -&gt; Next -&gt; 输入Group Id: com.test ,Artifact Id 输入 test_demo, Packaging： war(选择建立web服务此处必须选为war)</p>
</li>
<li><p>右击项目名 点击最下面Properties -&gt; Maven下面的Project Facets -&gt; 先不勾选Dynamic Web Module，选择右边的Runtimes并选中安装过的tomcat8.5<br> -&gt; Apply -&gt; Apply and close -&gt; 重新打开上面的页面 -&gt; 选中Dynamic Web Module 并 修改右边 Version 试着选各个版本使支持<br> -&gt; 点击下面出现的 “i Furtherconfiguration available…” -&gt; Conten directory: 内容改为 “src/main/webapp”<br> -&gt; 勾选中下面的Generate web.xml deployment descripter -&gt; Apply -&gt; Apply and Close</p>
</li>
<li><p>在 src/main/webapp 目录下新建个index.js文件内容如下:</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">language</span>=<span class="string">"java"</span> <span class="attr">contentType</span>=<span class="string">"text/html; charset=ISO-8859-1"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">pageEncoding</span>=<span class="string">"ISO-8859-1"</span>%&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"ISO-8859-1"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello test demo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></div></figure>
</li>
<li><p>右击项目名 -&gt; Run As -&gt; Run on Server， 如果没有Run on Server选项重新打开Project Facets页面再Apply -&gt; Apply and Close</p>
</li>
<li><p>浏览器输入<span class="exturl"><a class="exturl__link"   href="http://localhost:8080/test_demo/即可看到信息"  target="_blank" rel="noopener">http://localhost:8080/test_demo/即可看到信息</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>: Hello test demo</p>
</li>
</ol>
<p>创建Parent/jar/web项目:</p>
<figure class="highlight xl"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F<span class="function"><span class="title">ile</span> -&gt;</span> N<span class="function"><span class="title">ew</span> -&gt;</span> O<span class="function"><span class="title">ther</span> -&gt;</span> M<span class="function"><span class="title">aven</span> -&gt;</span> Maven Project 按照网上操作即可创建maven pom/jar/war三种项目，其中pom是父类管理其它jar和war(web)等project</span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>创建好maven项目后，修改jar或war的pom.xml(项目对象模型(Project Object Modet,POM))文件后<br>    鼠标右击pom.xml -&gt; Maven -&gt; Update Project… -&gt; 可勾选下面的Force Update of Snapshots/Releases -&gt; OK</p>
</blockquote>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#&gt; eclipse for java ee 创建好maven web项目后会出错，原因是缺少webDemo/src/main/webapp/WEB-INF/web.xml</span><br><span class="line">#第一种：	手动创建文件夹WEB-INF和文件web.xml,然后添加如下内容</span><br><span class="line">#<span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">#<span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"2.5"</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">#	<span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">#	<span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee </span></span></span><br><span class="line"><span class="tag"><span class="string">#	http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span>&gt;</span></span><br><span class="line">#<span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line">#</span><br><span class="line">#第二种: 鼠标右击webDemo -&gt; Java EE Tools -&gt; Generate Deployment Descriptor Stub 即可自动生成上面的web.xml文件</span><br></pre></td></tr></table></div></figure>



<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※</p>
<p>VScode 配置 Maven 安装环境 创建Maven项目</p>
<p>File -&gt; Perferences -&gt; Settings -&gt; 搜索Maven -&gt; 点击打开 “Edit in settings.json”文件</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"remote.SSH.remotePlatform"</span>: &#123;</span><br><span class="line">        <span class="string">"10.239.85.244"</span>: <span class="string">"linux"</span>,</span><br><span class="line">        <span class="string">"10.239.65.163"</span>: <span class="string">"linux"</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"> * Windows 添加配置如下内容:</span><br><span class="line"><span class="string">"java.home"</span>: <span class="string">"C:\\Program Files\\Java\\jdk1.8.0_241"</span>,</span><br><span class="line"><span class="string">"java.configuration.maven.userSettings"</span>: <span class="string">"C:\\Users\\UserName\\Desktop\\software_package\\apache-maven-3.6.3\\conf\\settings.xml"</span>,</span><br><span class="line"><span class="string">"maven.executable.path"</span>: <span class="string">"C:\\Users\\UserName\\Desktop\\software_package\\apache-maven-3.6.3\\bin\\mvn"</span>,</span><br><span class="line"></span><br><span class="line"> * Linux 添加配置如下内容:</span><br><span class="line"><span class="string">"java.home"</span>: <span class="string">"/usr/local/jdk1.8/"</span>,</span><br><span class="line"><span class="string">"java.configuration.maven.userSettings"</span>: <span class="string">"/usr/maven/apache-maven-3.6.3/conf/settings.xml"</span>,</span><br><span class="line"><span class="string">"maven.executable.path"</span>: <span class="string">"/usr/maven/apache-maven-3.6.3/bin/mvn"</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">"maven.terminal.customEnv"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"environmentVariable"</span>: <span class="string">"JAVA_HOME"</span>,</span><br><span class="line">            <span class="comment">//"value": "C:\\Program Files\\Java\\jdk1.8.0_241"		// Windows</span></span><br><span class="line">            <span class="string">"value"</span>: <span class="string">"/usr/local/jdk1.8"</span>							<span class="comment">// Linux</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="string">"remote.SSH.configFile"</span>: <span class="string">"C:\\Users\\UserName\\.ssh\\config"</span></span><br></pre></td></tr></table></div></figure>


<p>Ctrl + shift + P 选择 “Maven:Create Maven Project” 创建 Maven 项目<br>Select an archetype: 选择 maven-archetype-quickstart -&gt; 选择版本 -&gt; 选择生成目录<br>-&gt; VScode 终端 输入Group Id: 如com.imooc -&gt; 输入Artifact Id: 如microservice -&gt; 输入package： 直接回车 -&gt; 输入Version: 直接回车</p>
<ol>
<li>第一此创建Maven 父 项目pom.xml 没有 <packaging>pom</packaging> 需要手动添加, 右击 pom.xml -&gt; Update project configuration</li>
<li>创建子项目， 右击上面项目名， 选择 Create Maven Project ……’groupId’: com.imooc -&gt; ‘artifactId’: test -&gt; ‘version’ 1.0-SNAPSHOT: :回车</li>
<li>创建子项目后查看pom.xml可以发现自动添加了<parent></parent>标签</li>
</ol>
<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※</p>
<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※</p>
<p>※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※※</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/maven/maven_project/">maven project</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">741</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Ubuntu18-04-安装-IntelliJ-idea"   >
          <a href="#Ubuntu18-04-安装-IntelliJ-idea" class="heading-link"><i class="fas fa-link"></i></a>Ubuntu18.04 安装 IntelliJ idea</h2>
      <figure class="highlight awk"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>blog.csdn.net<span class="regexp">/weixx3/</span>article<span class="regexp">/details/</span><span class="number">81136822</span></span><br></pre></td></tr></table></div></figure>


        <h2 id="手动下载jar包并通过mvn安装到Linux或windows环境，供项目引用"   >
          <a href="#手动下载jar包并通过mvn安装到Linux或windows环境，供项目引用" class="heading-link"><i class="fas fa-link"></i></a>手动下载jar包并通过mvn安装到Linux或windows环境，供项目引用</h2>
      <figure class="highlight awk"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>repo1.maven.org<span class="regexp">/maven2/</span> 或者https:<span class="regexp">//m</span>vnrepository.com<span class="regexp">/</span></span><br></pre></td></tr></table></div></figure>

<p>如在pom.xml添加依赖但是下载不下来</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.thrift<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>libthrift<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></div></figure>
<p>浏览器连接<span class="exturl"><a class="exturl__link"   href="https://repo1.maven.org/maven2/org/apache/thrift/libthrift/"  target="_blank" rel="noopener">https://repo1.maven.org/maven2/org/apache/thrift/libthrift/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 查看指定版本如0.10.0, 点击进去下载libthrift-0.10.0.jar<br>执行如下命令</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/ai/IdeaProjects/microservice/user-thrift-service</span><br><span class="line">mvn install:install-file -Dfile=/usr/maven/maven_repository/org/apache/thrift/libthrift/libthrift-0.10.0.jar -DgroupId=org.apache.thrift -DartifactId=libthrift -Dversion=0.10.0 -Dpackaging=jar</span><br></pre></td></tr></table></div></figure>

<p>Maven 安装 JAR 包的命令是</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -Dfile=本地jar包的位置  -DgroupId=上面的groupId  -DartifactId=上面的artifactId  -Dversion=上面的version  -Dpackaging=jar</span><br></pre></td></tr></table></div></figure>

<p>到maven设置的repository里查看</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /usr/maven/maven_repository/org/apache/thrift/libthrift<span class="comment">#</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -alh</span></span><br><span class="line">drwxr-xr-x 2 root root 4.0K 4月   9 10:41 0.10.0</span><br><span class="line">-rw-r--r-- 1 root root  308 4月   9 10:41 maven-metadata-local.xml</span><br></pre></td></tr></table></div></figure>


        <h2 id="Linux-命令行方式-搭建，编译，测试，运行calss文件，打包，运行jar包，安装，部署，-清理-命令"   >
          <a href="#Linux-命令行方式-搭建，编译，测试，运行calss文件，打包，运行jar包，安装，部署，-清理-命令" class="heading-link"><i class="fas fa-link"></i></a>Linux 命令行方式: 搭建，编译，测试，运行calss文件，打包，运行jar包，安装，部署， 清理 命令.</h2>
      <ol>
<li>搭建</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate  -DinteractiveMode=false -DgroupId=com.HCI -DartifactId=HCI -Dpackage=com.HCI</span><br></pre></td></tr></table></div></figure>

<p>查看</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.HCI<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>HCI<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>HCI<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>编译源代码</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn compile</span><br><span class="line">mvn compile -Dcheckstyle.skip=true： 不需要进行代码style检查进行编译</span><br></pre></td></tr></table></div></figure>
<p>Reference Link: <span class="exturl"><a class="exturl__link"   href="https://checkstyle.org/cmdline.html"  target="_blank" rel="noopener">https://checkstyle.org/cmdline.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p> 
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="compile.JPG"  alt="">
      </p>
<ol start="3">
<li>测试编译过的代码</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn test</span><br></pre></td></tr></table></div></figure>

<ol start="4">
<li>执行编译过的代码</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// App换成自己的执行入口函数(文件)名称.</span><br><span class="line">mvn exec:java -Dexec.mainClass="com.HCI.App"</span><br></pre></td></tr></table></div></figure>

<ol start="5">
<li>生成构件包（一般为 jar 包或 war 包）</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></div></figure>
<p>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="jar.JPG"  alt="">
      </p>
<ol start="6">
<li>拷贝 jar包</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp target/HCI-1.0-SNAPSHOT.jar com.HCI.App</span><br></pre></td></tr></table></div></figure>

<ol start="7">
<li>将构件包安装到本地仓库</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mvn install</span><br><span class="line">mvn install -DskipTests： 跳过测试, 构建包到本地./target目录</span><br><span class="line">jar xf search-image-by-image-rest-0.0.1-SNAPSHOT.jar: 解压jar包, 查看jar包内容</span><br></pre></td></tr></table></div></figure>

<ol start="8">
<li>将构件包部署到远程仓库</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn deploy</span><br></pre></td></tr></table></div></figure>

<ol start="9">
<li>清空输出目录（即 target 目录）</li>
</ol>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean：</span><br></pre></td></tr></table></div></figure>

<p>创建Maven项目如HCI后，执行 Maven 其它命令需要注意的是：必须在 Maven 项目的根目录处执行，也就是当前目录下一定存在一个名为 pom.xml 的文件</p>
<p>如进入/home/ai/IdeaProjects/microservice/user-thrift-service目录再执行mvn install……命令</p>

        <h2 id="遇到的问题"   >
          <a href="#遇到的问题" class="heading-link"><i class="fas fa-link"></i></a>遇到的问题</h2>
      
        <h3 id="from-thrift-Thrift-import-TType-TMessageType-TFrozenDict-TException-TApplicationException-ImportError-cannot-import-name-TFrozenDict"   >
          <a href="#from-thrift-Thrift-import-TType-TMessageType-TFrozenDict-TException-TApplicationException-ImportError-cannot-import-name-TFrozenDict" class="heading-link"><i class="fas fa-link"></i></a>from thrift.Thrift import TType, TMessageType, TFrozenDict, TException, TApplicationException ImportError: cannot import name TFrozenDict</h3>
      <p>解决方法是: 某些包没有关联上，装包时加上[hive]后缀</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pip install pyhive[hive]</span></span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/maven/ubuntu18.04%E5%AE%89%E8%A3%85Mysql8.0/">Ubuntu18.04 安装 Mysql8.0</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">428</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Mysql-安装"   >
          <a href="#Mysql-安装" class="heading-link"><i class="fas fa-link"></i></a>Mysql 安装:</h1>
      
        <h3 id="1-下载deb包"   >
          <a href="#1-下载deb包" class="heading-link"><i class="fas fa-link"></i></a>1. 下载deb包</h3>
      <figure class="highlight awk"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>dev.mysql.com<span class="regexp">/downloads/</span>repo<span class="regexp">/apt/</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="2-跟新dpkg"   >
          <a href="#2-跟新dpkg" class="heading-link"><i class="fas fa-link"></i></a>2. 跟新dpkg</h3>
      <figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> dpkg -i mysql-apt-config_0.8.15-1_all.deb</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> apt update</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="3-安装mysql8"   >
          <a href="#3-安装mysql8" class="heading-link"><i class="fas fa-link"></i></a>3. 安装mysql8</h3>
      <figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt install mysql-server</span></span><br><span class="line">输入密码123456</span><br><span class="line">最后加密方式选择Legacy(5.x)</span><br></pre></td></tr></table></div></figure>


        <h1 id="Mysql-卸载"   >
          <a href="#Mysql-卸载" class="heading-link"><i class="fas fa-link"></i></a>Mysql 卸载:</h1>
      <figure class="highlight vim"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">搜索的一种卸载方式:</span><br><span class="line">首先在终端中查看MySQL的依赖项：dpkg --<span class="keyword">list</span>|<span class="keyword">grep</span> mysql</span><br><span class="line">卸载： sudo apt-<span class="built_in">get</span> <span class="built_in">remove</span> mysql-common</span><br><span class="line">卸载：sudo apt-<span class="built_in">get</span> autoremove --purge mysql-server-<span class="number">5.7</span></span><br><span class="line">清除残留数据：dpkg -<span class="keyword">l</span>|<span class="keyword">grep</span> ^rc|awk ‘&#123;<span class="keyword">print</span>$<span class="number">2</span>&#125;’|sudo xargs dpkg -<span class="keyword">P</span></span><br><span class="line">再次查看MySQL的剩余依赖项：dpkg --<span class="keyword">list</span>|<span class="keyword">grep</span> mysql</span><br><span class="line">继续删除剩余依赖项，如：sudo apt-<span class="built_in">get</span> autoremove --purge mysql-apt-config</span><br><span class="line">至此已经没有了MySQL的依赖项，彻底删除，Good Luck</span><br><span class="line"></span><br><span class="line">另外一种卸载方式:</span><br><span class="line">sudo apt-<span class="built_in">get</span> autoremove --purge mysql-server </span><br><span class="line">sudo apt-<span class="built_in">get</span> <span class="built_in">remove</span> mysql-common</span><br><span class="line">sudo rm -rf /etc/mysql/ </span><br><span class="line">sudo rm -rf  /var/lib/mysql</span><br><span class="line">​​#清理残留数据</span><br><span class="line">dpkg -<span class="keyword">l</span> |<span class="keyword">grep</span> ^rc|awk <span class="string">'&#123;print $2&#125;'</span> |sudo xargs dpkg -<span class="keyword">P</span>  </span><br><span class="line">sudo apt autoremove</span><br><span class="line">sudo apt autoclean</span><br><span class="line"></span><br><span class="line">最终是用dpkg --<span class="keyword">list</span>|<span class="keyword">grep</span> mysql命令查看没有任何mysql信息输出即可</span><br></pre></td></tr></table></div></figure>


        <h1 id="Mysql登录"   >
          <a href="#Mysql登录" class="heading-link"><i class="fas fa-link"></i></a>Mysql登录</h1>
      
        <h3 id="第一种命令行方式"   >
          <a href="#第一种命令行方式" class="heading-link"><i class="fas fa-link"></i></a>第一种命令行方式:</h3>
      <figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456</span><br></pre></td></tr></table></div></figure>

        <h3 id="第二种mysql-workbench"   >
          <a href="#第二种mysql-workbench" class="heading-link"><i class="fas fa-link"></i></a>第二种mysql-workbench</h3>
      <figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install mysql-workbench</span><br><span class="line">mysql-workbench		// 可以通过键入 mysql-workbench或单击 MySQL Workbench 图标 (Activities -&gt; MySQL Workbench) 从命令行启动它。</span><br></pre></td></tr></table></div></figure>


        <h3 id="第三种Navigat-工具方式："   >
          <a href="#第三种Navigat-工具方式：" class="heading-link"><i class="fas fa-link"></i></a>第三种Navigat 工具方式：</h3>
      <ul>
<li>Navicat是可以管理多种数据库Mysql, redis, MongoDB等等的软件，收费</li>
</ul>
<ul>
<li>连接名:localhost</li>
<li>主机: 127.0.0.1        // 用localhost 会报错 2002 - Can’t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock’(2 “No such file or directory”)</li>
<li>端口: 3306            // mysql安装后默认服务端口是3306， 可通过命令 “netstat -tap | grep mysql” 查看</li>
<li>用户名: root</li>
<li>密码: 123456</li>
</ul>

        <h1 id="重启Mysql-server"   >
          <a href="#重启Mysql-server" class="heading-link"><i class="fas fa-link"></i></a>重启Mysql server</h1>
      <figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysql	// Ubuntu18.04重启mysql会出错, 目前没解决，只是卸载mysql重装，最好别重启mysql服务</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/security/ECDHE-RSA-AES256-GCM-SHA384%E8%A7%A3%E9%87%8A/">ECDHE-RSA-AES256-GCM-SHA384 解释</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">92</span></span></div></header><div class="post-body"><div class="post-excerpt"><h2 id="ECDHE-RSA-AES256-GCM-SHA384-解释"   >
          <a href="#ECDHE-RSA-AES256-GCM-SHA384-解释" class="heading-link"><i class="fas fa-link"></i></a>ECDHE-RSA-AES256-GCM-SHA384 解释</h2>
      <p>“密钥交换算法 + 签名算法 + 对称加密算法 + 摘要算法”</p>
<p>“握手时使用 ECDHE 算法进行密钥交换，用 RSA 签名和身份认证，握手后的通信使用 AES 对称算法，密钥长度 256 位，分组模式是 GCM，摘要算法 SHA384 用于消息认证和产生随机数。”</p></div><div class="post-readmore"><a class="post-readmore__link" href="/2021/03/13/technologies/security/ECDHE-RSA-AES256-GCM-SHA384%E8%A7%A3%E9%87%8A/"><span class="post-readmore__text">阅读全文</span><span class="post-readmore__icon"><i class="fas fa-long-arrow-alt-right"></i></span></a></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/restful_api/restfulAPI_Flask/">RESTful API</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1k</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="RESTful-API"   >
          <a href="#RESTful-API" class="heading-link"><i class="fas fa-link"></i></a>RESTful API</h2>
      <p>2000年Roy Thomas Fielding在他博士论文中提出的RESTful概念.<br>即Representational State Transfer的缩写, 或者叫做”表现层状态转化”.<br>如果一个构架符合REST原则, 则称它为RESTful的构架</p>
<p>URI, uniform resource identifier, 统一资源标识符, 用来唯一的标识一个资源.<br>URL, uniform resource locator, 统一资源定位器, 用来定位某个特定资源.<br>表现层指的是资源的表现, 资源就是网络少具体的信息, 可以是文本, 图片, 歌曲等.<br>URI 可以用来对应特定的资源, 要获取资源, 首先要访问URI, 此时的URI还是一个抽象的概念, 只用来标识网络中唯一的资源.<br>URL 就是一种具体的资源, 比如一个网址, 也就是一个网络资源的地址. </p>

        <h3 id="表现层-Representation"   >
          <a href="#表现层-Representation" class="heading-link"><i class="fas fa-link"></i></a>表现层 Representation</h3>
      <ol>
<li>纯文本: Python RESTful API开发</li>
<li>HTML: <head><title>Python RESTful API开发</title><meta name="generator" content="Hexo 4.2.0"></head></li>
<li>JSON: { “text” : “Python RESTful API开发” }</li>
<li>jpg, PNG图片等等.<br>我们把<code>资源</code>具体呈现出来的形式, 叫做<code>表现层</code></li>
</ol>

        <h3 id="状态转移-state-Transfer"   >
          <a href="#状态转移-state-Transfer" class="heading-link"><i class="fas fa-link"></i></a>状态转移, state Transfer</h3>
      <ol>
<li>HTTP协议, 是一个无状态协议</li>
<li>GET(获取资源), POST(新建资源, 有时候也用来更新资源), PUT(更新资源), DELETE(删除资源)</li>
<li>让我们来看一个RESTful的请求<br>curl -X GET <span class="exturl"><a class="exturl__link"   href="https://api.weibo.com/2/users/show.json"  target="_blank" rel="noopener">https://api.weibo.com/2/users/show.json</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ol>

        <h3 id="REST架构设计6原则"   >
          <a href="#REST架构设计6原则" class="heading-link"><i class="fas fa-link"></i></a>REST架构设计6原则</h3>
      <ol>
<li>Uniform Interface, 统一服务接口, 解耦了设计客户端和服务端的接口, 让客户端和服务端可以独立升级.  </li>
<li>Stateless, 无状态, 客户端请求和服务端响应信息是自包含的, 避免某一次请求依赖上一次请求</li>
<li>Cacheable, 可缓存的, 浏览器缓存, 提高客户端访问体验, 也可减少服务器流量压力.  </li>
<li>Client-Server, 客户端和服务端分离, 客户端不包括数据, 服务端不包括用户状态, 增加服务稳定性, 也可对任一端升级.  </li>
<li>Layered System, 分层系统, 客户端可以不直接连接服务端, 而是通过其它途径连接.</li>
<li>Code on Demand, 按需编码, 客户端和服务端使用统一的接口进行通信, 两端都可以用各自的编程语言进行编码, 也可以对数据进行再加工, 也就可以分工.  </li>
</ol>

        <h2 id="微博Restful介绍-现在打开API测试工具不太管用了"   >
          <a href="#微博Restful介绍-现在打开API测试工具不太管用了" class="heading-link"><i class="fas fa-link"></i></a>微博Restful介绍, 现在打开API测试工具不太管用了</h2>
      <p>国内微博率先使用RESTful 构架, 并且还公开了开放平台. 微博开放平台一些操作.<br>微博开放平台: <span class="exturl"><a class="exturl__link"   href="https://open.weibo.com/"  target="_blank" rel="noopener">https://open.weibo.com/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>  </p>
<ol>
<li>选择chrome浏览器进入之后可选择上面的<code>文档</code>, 然后选择左边的<code>微博API</code>查看相应接口</li>
<li>随便选择一个接口点击进入, 点击<code>API测试工具</code>没反应, 可以鼠标右击<code>API测试工具</code>选择<code>检查N</code>, 点开<p></p>标签, 然后点击里面的链接地址, 可以打开API测试工具.<br>
        <img   class="lazyload lazyload-gif"
          src="/images/loading.svg" data-src="1.PNG"  alt="">
      </li>
</ol>

        <h2 id="Flask"   >
          <a href="#Flask" class="heading-link"><i class="fas fa-link"></i></a>Flask</h2>
      <p>Flask官网: <span class="exturl"><a class="exturl__link"   href="http://flask.pocoo.org/"  target="_blank" rel="noopener">http://flask.pocoo.org/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>Flask中文版: <span class="exturl"><a class="exturl__link"   href="https://dormousehole.readthedocs.io/en/latest/"  target="_blank" rel="noopener">https://dormousehole.readthedocs.io/en/latest/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>Flask支持的扩展插件: <span class="exturl"><a class="exturl__link"   href="https://flask.palletsprojects.com/en/1.1.x/extensions/"  target="_blank" rel="noopener">https://flask.palletsprojects.com/en/1.1.x/extensions/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h2 id="工具介绍"   >
          <a href="#工具介绍" class="heading-link"><i class="fas fa-link"></i></a>工具介绍</h2>
      <p>将一串json转换为有缩进的格式<br><span class="exturl"><a class="exturl__link"   href="https://www.bootcdn.cn/jsonlint/"  target="_blank" rel="noopener">https://www.bootcdn.cn/jsonlint/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h2 id="github-API-schema"   >
          <a href="#github-API-schema" class="heading-link"><i class="fas fa-link"></i></a>github API schema</h2>
      <p><span class="exturl"><a class="exturl__link"   href="https://developer.github.com/v3/#schema"  target="_blank" rel="noopener">https://developer.github.com/v3/#schema</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>Schema<br>All API access is over HTTPS, and accessed from <span class="exturl"><a class="exturl__link"   href="https://api.github.com"  target="_blank" rel="noopener">https://api.github.com</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. All data is sent and received as JSON.  </p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">curl -i https://api.github.com/users/octocat/orgs</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx</span><br><span class="line">Date: Fri, 12 Oct 2012 23:33:14 GMT</span><br><span class="line">Content-Type: application/json; charset=utf-8</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Status: 200 OK</span><br><span class="line">ETag: "a00049ba79152d03380c34652f2cb612"</span><br><span class="line">X-GitHub-Media-Type: github.v3</span><br><span class="line">X-RateLimit-Limit: 5000</span><br><span class="line">X-RateLimit-Remaining: 4987</span><br><span class="line">X-RateLimit-Reset: 1350085394</span><br><span class="line">Content-Length: 5</span><br><span class="line">Cache-Control: max-age=0, private, must-revalidate</span><br><span class="line">X-Content-Type-Options: nosniff</span><br></pre></td></tr></table></div></figure>


        <h2 id="Simple-Samples"   >
          <a href="#Simple-Samples" class="heading-link"><i class="fas fa-link"></i></a>Simple Samples</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(<span class="string">'/'</span>)</span><br><span class="line">def hello_world():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello World!!!"</span></span><br><span class="line"></span><br><span class="line">@app.route(<span class="string">'/index/&lt;user&gt;'</span>)</span><br><span class="line">def hello_user(user):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello %s"</span> % user</span><br><span class="line"></span><br><span class="line">@app.route(<span class="string">'/productpage'</span>)</span><br><span class="line">def hello_productpage():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello productpage!!!"</span></span><br><span class="line"></span><br><span class="line"># POST方法浏览器输入出错可以通过命令行方式访问, 如下指定POST方式访问</span><br><span class="line"># pipenv shell</span><br><span class="line"># python app.py</span><br><span class="line"># curl -X POST 127.0.0.1:9900/index --noproxy 127.0.0.1</span><br><span class="line">@app.route(<span class="string">'/index'</span>, methods=[<span class="string">'POST'</span>])</span><br><span class="line">def hello_post():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello POST Methods!!!"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    app.run(host=<span class="string">'127.0.0.1'</span>, port=<span class="number">9900</span>, debug=True)</span><br></pre></td></tr></table></div></figure>


        <h2 id="教程视频"   >
          <a href="#教程视频" class="heading-link"><i class="fas fa-link"></i></a>教程视频</h2>
      <p>Restful API</p>
<p>NodeJS:            <span class="exturl"><a class="exturl__link"   href="https://www.bilibili.com/video/BV1KE411j7WX?p=4"  target="_blank" rel="noopener">https://www.bilibili.com/video/BV1KE411j7WX?p=4</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>NodeJS:            <span class="exturl"><a class="exturl__link"   href="https://www.bilibili.com/video/BV1Hh411Z7Ra?from=search&amp;seid=18040937623809243636"  target="_blank" rel="noopener">https://www.bilibili.com/video/BV1Hh411Z7Ra?from=search&amp;seid=18040937623809243636</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>python Flask:    <span class="exturl"><a class="exturl__link"   href="https://www.bilibili.com/video/BV1Rf4y127Cy?p=6"  target="_blank" rel="noopener">https://www.bilibili.com/video/BV1Rf4y127Cy?p=6</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>java:            <span class="exturl"><a class="exturl__link"   href="https://www.bilibili.com/video/BV1et411T7SS?p=8"  target="_blank" rel="noopener">https://www.bilibili.com/video/BV1et411T7SS?p=8</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>java Spring boot: <span class="exturl"><a class="exturl__link"   href="https://study.163.com/course/introduction.htm?courseId=1005213034#/courseDetail?tab=1"  target="_blank" rel="noopener">https://study.163.com/course/introduction.htm?courseId=1005213034#/courseDetail?tab=1</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/03/13/technologies/security/algorithm_security/">algorithm security</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-13</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">1.7k</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Certificates-Encryption-Algorithm"   >
          <a href="#Certificates-Encryption-Algorithm" class="heading-link"><i class="fas fa-link"></i></a>Certificates Encryption Algorithm</h1>
      
        <h2 id="RSA非对称加密算法"   >
          <a href="#RSA非对称加密算法" class="heading-link"><i class="fas fa-link"></i></a>RSA非对称加密算法</h2>
      <p>RSA(Rivest-Shamir-Adleman)</p>
<blockquote>
<p>RSA是1977年由罗纳德·李维斯特（Ron Rivest）、阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的。当时他们三人都在麻省理工学院工作。RSA就是他们三人姓氏开头字母拼在一起组成的  </p>
</blockquote>
<p>非对称加密，公钥加密，私钥解密，反之亦然。由于需要大数的乘幂求模等算法，运行速度慢，不易于硬件实现。</p>
<p>通常私钥长度有512bit，1024bit，2048bit，4096bit，长度越长，越安全，但是生成密钥越慢，加解密也越耗时。</p>
<p>既然是加密，那肯定是不希望别人知道我的消息，所以只有我才能解密，所以可得出公钥负责加密，私钥负责解密；</p>
<p>同理，既然是签名，那肯定是不希望有人冒充我发消息，只有我才能发布这个签名，所以可得出私钥负责签名，公钥负责验证。</p>
<blockquote>
<p>非对称加密算法实现机密信息交换的基本过程是：甲方生成一对密钥并将其中的一把作为公用密钥向其它方公开(用CA private key签名得到甲方证书)；用CA的public key解密得到该公用密钥的乙方使用该密钥对机密信息进行加密后再发送给甲方；甲方再用自己保存的另一把专用密钥对加密后的信息进行解密来获取信息.</p>
</blockquote>

        <h2 id="AES对称加密算法"   >
          <a href="#AES对称加密算法" class="heading-link"><i class="fas fa-link"></i></a>AES对称加密算法</h2>
      <p>AES,高级加密标准（Advanced Encryption Standard，缩写：AES）  </p>
<p>对称加密，密钥最长只有256个bit，执行速度快，易于硬件实现。由于是对称加密，密钥需要在传输前通讯双方获知。</p>
<p>基于以上特点，通常使用RSA来首先传输AES的密钥给对方，然后再使用AES来进行加密通讯。</p>
<p>AES128和AES256主要区别是密钥长度不同（分别是128bits,256bits)、加密处理轮数不同（分别是10轮，14轮），后者强度高于前者。当前AES是较为安全的公认的对称加密算法。  </p>
<p>现代密码学分为对称加密与非对称加密（公钥加密），代表算法分别有DES(现在发展为3DES）、AES与RSA等。非对称加密算法的资源消耗大于对称加密。一般是进行混合加密处理，例如使用RSA进行密钥分发、协商，使用AES进行业务数据的加解密。  </p>

        <h1 id="Signature-Algorithm"   >
          <a href="#Signature-Algorithm" class="heading-link"><i class="fas fa-link"></i></a>Signature Algorithm</h1>
      
        <h2 id="什么是SHA算法"   >
          <a href="#什么是SHA算法" class="heading-link"><i class="fas fa-link"></i></a>什么是SHA算法</h2>
      <blockquote>
<p>SHA的全称是“Secure Hash Algorithm”，中文翻译为：安全哈希算法，是由美国NSA和NIST两个组织共同发布的一系列密码散列函数，经历了SHA-0，SHA-1，SHA-2，SHA-3系列发展.</p>
</blockquote>

        <h3 id="什么是SHA-256算法"   >
          <a href="#什么是SHA-256算法" class="heading-link"><i class="fas fa-link"></i></a>什么是SHA-256算法</h3>
      <blockquote>
<p>SHA256算法属于SHA-2系列，SHA-256对于任意长度的消息，都会产生一个256bit长的哈希值，称作消息摘要. 这个摘要相当于是个长度为32个字节的数组，通常用一个长度为64的十六进制字符串来表示.</p>
</blockquote>

        <h3 id="把消息转换为位字符串"   >
          <a href="#把消息转换为位字符串" class="heading-link"><i class="fas fa-link"></i></a>把消息转换为位字符串</h3>
      <p>SHA-256算法是按照位作为输入，所以进行计算前必须把原始消息（比如字符串、文件等）转换成位字符串。<br>比如，对字符串“abc”产生消息摘要，‘a’=97 ‘b’=98 ‘c’=99，先转换成24位的字符串：</p>
<figure class="highlight basic"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">01100001 </span><span class="number">01100010</span> <span class="number">01100011</span></span><br></pre></td></tr></table></div></figure>

        <h3 id="对转换得到的位字符串进行补位操作"   >
          <a href="#对转换得到的位字符串进行补位操作" class="heading-link"><i class="fas fa-link"></i></a>对转换得到的位字符串进行补位操作</h3>
      
        <h3 id="消息扩展、分组处理"   >
          <a href="#消息扩展、分组处理" class="heading-link"><i class="fas fa-link"></i></a>消息扩展、分组处理</h3>
      
        <h3 id="使用的常量和函数"   >
          <a href="#使用的常量和函数" class="heading-link"><i class="fas fa-link"></i></a>使用的常量和函数</h3>
      
        <h3 id="计算消息摘要"   >
          <a href="#计算消息摘要" class="heading-link"><i class="fas fa-link"></i></a>计算消息摘要</h3>
      
        <h3 id="SHA-256安全性分析"   >
          <a href="#SHA-256安全性分析" class="heading-link"><i class="fas fa-link"></i></a>SHA-256安全性分析</h3>
      <p>Hash函数的安全性很大程度上取决于抗强碰撞的能力，即攻击者找出两个消息M和Mt，M≠Mt，使得H(M)=HMt  ,因此，评价一个Hash函数的安全性，就是看攻击者在现有的条件下，是否可以找到该函数的一对碰撞。目前已有的对Hash函数攻击的方法包括生日攻击、彩虹表攻击、差分攻击等。</p>
<ul>
<li>生日攻击：生日攻击是一种可用于攻击任何类型函数Hash函数的攻击方法。从攻击原理上看，它没有利用Hash函数的结构和任何代数弱性质，只依赖与Hash值的长度。因此，<strong>抵御生日攻击最有效的方法是Hash值必须有足够的长度</strong>。</li>
<li>差分攻击：差分攻击是目前破译迭代Hash函数最有效的手法之一，其基本方法是利用明文的输入差值对输出差值的影响，运用差分的高概率的继承或者消除来产生最终的相同输出。</li>
</ul>
<p>用于消息唯一性和数据完整性验证的Hash函数，其安全性依赖于函数本身的属性和对抗碰撞的抵抗。Hash函数的算法结构特点和Hash值的长度是决定函数碰撞性的而主要因素，Hash值越长，越能抵御生日攻击。<strong>SHA-256有256比特Hash值，MD5和SHA-1分别有128和160比特的Hash值。</strong>因此，SHA-256比MD5和SHA-1能抵抗生日攻击。通过对Chabaud-Joux攻击SHA-256的分析，找到了SHA-256的一个部分碰撞，其复杂度为2^66，但无法找到SHA-256的一个整体碰撞，因此SHA-256算法也能抵御现有的差分攻击。由此可见，在抵御生日攻击和抵御已知差分攻击方面，SHA-256算法比现在广泛使用的MD5和SHA-1等更具安全性。</p>

        <h3 id="比特币为什么选择SHA-256算法"   >
          <a href="#比特币为什么选择SHA-256算法" class="heading-link"><i class="fas fa-link"></i></a>比特币为什么选择SHA-256算法</h3>
      <blockquote>
<p>SHA-256属于SHA-2系列，像之前的SHA0，SHA1都被证明是可以破解的，目前SHA2以及SHA3尚未被证实可以破解，至少目前来说是最安全的算法之一.<br>未来即使使用量子计算机挖比特币，也无非是速度更快一点，比特币有难度调整机制，可以通过调整难度来对抗量子计算机，还可以通过升级算法到SHA-3系列来增加挖矿的难度.<br>中本聪在设计比特币时，之所以选择SHA256，就是看中了SHA256的安全性，只要输入的数据有微小的区别，算出的结果就有天壤之别.</p>
</blockquote>

        <h1 id="AES-GCM加密算法"   >
          <a href="#AES-GCM加密算法" class="heading-link"><i class="fas fa-link"></i></a>AES-GCM加密算法</h1>
      
        <h1 id="查看系统支持的密码列表"   >
          <a href="#查看系统支持的密码列表" class="heading-link"><i class="fas fa-link"></i></a>查看系统支持的密码列表</h1>
      <p><strong>列出当前系统所支持的密码套件列表</strong></p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> openssl ciphers -V <span class="string">'ALL:COMPLEMENTOFALL'</span></span></span><br></pre></td></tr></table></div></figure>
<p><strong>测试某个服务器是否支持特定的密码套件：</strong></p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> openssl s_client -cipher <span class="string">"ECDHE-RSA-AES128-SHA"</span> -connect www.qq.com:443 -tls1_1</span></span><br></pre></td></tr></table></div></figure>
<p>参数说明: </p>
<ul>
<li>-cipher 参数表示本次连接支持的密码套件</li>
<li>-connect 表示连接服务器的 443 端口</li>
<li>-tls1_1 表示客户端最高支持的 TLS/SSL 版本是 TLS v1.1</li>
</ul>
<p>TLS deployment, viw version etc.<span class="exturl"><a class="exturl__link"   href="https://wiki.mozilla.org/Security/Server_Side_TLS"  target="_blank" rel="noopener">Security/Server Side TLS</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">Kung-Fu-Master</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://plus.google.com/" target="_blank" rel="noopener" data-popover="Google" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-google"></i></span></a><a class="sidebar-ov-social-item" href="https://twitter.com/" target="_blank" rel="noopener" data-popover="Twitter" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-twitter"></i></span></a><a class="sidebar-ov-social-item" href="https://youtube.com/" target="_blank" rel="noopener" data-popover="Youtube" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-youtube"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">289</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">40</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">12</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Kung-Fu-Master</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v4.2.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.1</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="/js/utils.js?v=2.6.1"></script><script src="/js/stun-boot.js?v=2.6.1"></script><script src="/js/scroll.js?v=2.6.1"></script><script src="/js/header.js?v=2.6.1"></script><script src="/js/sidebar.js?v=2.6.1"></script><script type="application/json" src="/search.json"></script></body></html>