<!-- build time:Wed Mar 17 2021 03:26:53 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Hexo" href="https://kung-fu-master.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Hexo" href="https://kung-fu-master.github.io/atom.xml"><link rel="alternate" type="application/json" title="Hexo" href="https://kung-fu-master.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="kubernetes"><link rel="canonical" href="https://kung-fu-master.github.io/2021/03/13/micro_service/kubernetes/01_kubernetes%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E5%92%8C%E9%85%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6/"><title>01 Kubernetes安装方式和配置条件 - kubernetes - microService | Kung Fu Master = Hexo</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">01 Kubernetes安装方式和配置条件</h1><div class="meta"><span class="item" title="创建时间：2021-03-13 13:00:42"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-03-13T13:00:42+08:00">2021-03-13</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>6.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>6 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Kung Fu Master</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipewf5l51j20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipeun65urj20zk0m81ii.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gicli9lfebj20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclfw2t96j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1giclga70tsj20zk0m84mr.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/6833939bly1gipexw3o58j20zk0m8e81.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/microService/" itemprop="item" rel="index" title="分类于 microService"><span itemprop="name">microService</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/microService/kubernetes/" itemprop="item" rel="index" title="分类于 kubernetes"><span itemprop="name">kubernetes</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://kung-fu-master.github.io/2021/03/13/micro_service/kubernetes/01_kubernetes%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E5%92%8C%E9%85%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Kung-Fu-Master"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><div class="body md" itemprop="articleBody"><h2 id="安装方法"><a class="anchor" href="#安装方法">#</a> 安装方法</h2><p>reference: <span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3Mvc2V0dXAvcHJvZHVjdGlvbi1lbnZpcm9ubWVudC90b29scy8=">https://kubernetes.io/docs/setup/production-environment/tools/</span></p><p><a id="more"></a></p><ul><li><span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3Mvc2V0dXAvcHJvZHVjdGlvbi1lbnZpcm9ubWVudC90b29scy9rdWJlYWRtLw==">Bootstrapping clusters with kubeadm</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3Mvc2V0dXAvcHJvZHVjdGlvbi1lbnZpcm9ubWVudC90b29scy9rb3BzLw==">Installing Kubernetes with kops</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3Mvc2V0dXAvcHJvZHVjdGlvbi1lbnZpcm9ubWVudC90b29scy9rdWJlc3ByYXkv">Installing Kubernetes with Kubespray</span></li></ul><h2 id="before-you-begin"><a class="anchor" href="#before-you-begin">#</a> Before you begin</h2><ul><li>One or more machines running one of:</li><li>Ubuntu 16.04+</li><li>Debian 9+</li><li>CentOS 7</li><li>Red Hat Enterprise Linux (RHEL) 7</li><li>Fedora 25+</li><li>HypriotOS v1.0.1+</li><li>Flatcar Container Linux (tested with 2512.3.0)</li><li>2 GB or more of RAM per machine (any less will leave little room for your apps).</li><li>2 CPUs or more.</li><li>Full network connectivity between all machines in the cluster (public or private network is fine).</li><li>Unique hostname, MAC address, and product_uuid for every node. See here for more details.</li><li>Certain ports are open on your machines. See here for more details.</li><li>Swap disabled. You MUST disable swap in order for the kubelet to work properly.</li></ul><h2 id="verify-the-mac-address-and-product_uuid-are-unique-for-every-node"><a class="anchor" href="#verify-the-mac-address-and-product_uuid-are-unique-for-every-node">#</a> Verify the MAC address and product_uuid are unique for every node</h2><ul><li>您可以使用命令 <strong><code>ip link</code> </strong>或 <strong><code>ifconfig -a</code> </strong>来获取网络接口的 MAC 地址</li><li>可以使用 <strong><code>sudo cat /sys/class/dmi/id/product_uuid</code> </strong>命令对 product_uuid 校验<br>一般来讲，硬件设备会拥有唯一的地址，但是有些虚拟机的地址可能会重复。Kubernetes 使用这些值来唯一确定集群中的节点。 如果这些值在每个节点上不唯一，可能会导致安装<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2t1YmVybmV0ZXMva3ViZWFkbS9pc3N1ZXMvMzE=">失败</span>.</li></ul><h2 id="检查网络适配器"><a class="anchor" href="#检查网络适配器">#</a> 检查网络适配器</h2><p>如果您有一个以上的网络适配器，同时您的 Kubernetes 组件通过默认路由不可达，我们建议您预先添加 IP 路由规则，这样 Kubernetes 集群就可以通过对应的适配器完成连接。</p><h2 id="确保-iptables-工具不使用-nftables-后端"><a class="anchor" href="#确保-iptables-工具不使用-nftables-后端">#</a> 确保 iptables 工具不使用 nftables 后端</h2><p>在 Linux 中，nftables 当前可以作为内核 iptables 子系统的替代品。 <strong>iptables</strong> 工具可以充当兼容性层，其行为类似于 iptables 但实际上是在配置 nftables。 nftables 后端与当前的 kubeadm 软件包不兼容：它会导致重复防火墙规则并破坏 <strong>kube-proxy</strong>。</p><p>如果您系统的 <strong>iptables</strong> 工具使用 nftables 后端，则需要把 <strong>iptables</strong> 工具切换到 “旧版” 模式来避免这些问题。 默认情况下，至少在 Debian 10 (Buster)、Ubuntu 19.04、Fedora 29 和较新的发行版本中会出现这种问题。RHEL 8 不支持切换到旧版本模式，因此与当前的 kubeadm 软件包不兼容</p><h3 id="iptables_legacy"><a class="anchor" href="#iptables_legacy">#</a> iptables_legacy</h3><h4 id="debian-或-ubuntu"><a class="anchor" href="#debian-或-ubuntu">#</a> &quot;Debian 或 Ubuntu&quot;</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>update-alternatives --set iptables /usr/sbin/iptables-legacy</pre></td></tr><tr><td data-num="2"></td><td><pre>update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy</pre></td></tr><tr><td data-num="3"></td><td><pre>update-alternatives --set arptables /usr/sbin/arptables-legacy</pre></td></tr><tr><td data-num="4"></td><td><pre>update-alternatives --set ebtables /usr/sbin/ebtables-legacy</pre></td></tr></table></figure><h4 id="fedora"><a class="anchor" href="#fedora">#</a> &quot;Fedora&quot;</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>update-alternatives --set iptables /usr/sbin/iptables-legacy</pre></td></tr></table></figure><p>Make sure that the <strong>br_netfilter</strong> module is loaded. This can be done by running <strong><code>lsmod | grep br_netfilter</code> </strong>. To load it explicitly call <strong><code>sudo modprobe br_netfilter</code> </strong>.</p><p>As a requirement for your Linux Node's iptables to correctly see bridged traffic, you should ensure <strong><code>net.bridge.bridge-nf-call-iptables</code> </strong>is set to 1 in your <strong><code>sysctl</code> </strong>config, e.g.</p><pre><code>cat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf
br_netfilter
EOF

cat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF
sudo sysctl --system
</code></pre><p>For more details please see the <span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3MvY29uY2VwdHMvZXh0ZW5kLWt1YmVybmV0ZXMvY29tcHV0ZS1zdG9yYWdlLW5ldC9uZXR3b3JrLXBsdWdpbnMvI25ldHdvcmstcGx1Z2luLXJlcXVpcmVtZW50cw==">Network Plugin Requirements page</span>.</p><h2 id="检查所需端口"><a class="anchor" href="#检查所需端口">#</a> 检查所需端口</h2><h3 id="控制平面节点s"><a class="anchor" href="#控制平面节点s">#</a> 控制平面节点 (s)</h3><table><thead><tr><th style="text-align:left">Protocol</th><th style="text-align:left">Direction</th><th style="text-align:left">Port Range</th><th style="text-align:left">Purpose</th><th style="text-align:left">Used By</th></tr></thead><tbody><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">6443*</td><td style="text-align:left">Kubernetes API server</td><td style="text-align:left">All</td></tr><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">2379-2380</td><td style="text-align:left">etcd server client API</td><td style="text-align:left">kube-apiserver, etcd</td></tr><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">10250</td><td style="text-align:left">kubelet API</td><td style="text-align:left">Self, Control plane</td></tr><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">10251</td><td style="text-align:left">kube-scheduler</td><td style="text-align:left">Self</td></tr><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">10252</td><td style="text-align:left">kube-controller-manager</td><td style="text-align:left">Self</td></tr></tbody></table><h3 id="工作节点s"><a class="anchor" href="#工作节点s">#</a> 工作节点 (s)</h3><table><thead><tr><th style="text-align:left">Protocol</th><th style="text-align:left">Direction</th><th style="text-align:left">Port Range</th><th style="text-align:left">Purpose</th><th style="text-align:left">Used By</th></tr></thead><tbody><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">10250</td><td style="text-align:left">kubelet API</td><td style="text-align:left">Self, Control plane</td></tr><tr><td style="text-align:left">TCP</td><td style="text-align:left">Inbound</td><td style="text-align:left">30000-32767</td><td style="text-align:left">NodePort Services†</td><td style="text-align:left">All</td></tr></tbody></table><p>† D Default port range for <span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3MvY29uY2VwdHMvc2VydmljZXMtbmV0d29ya2luZy9zZXJ2aWNlLw==">NodePort Services</span>.</p><p>Any port numbers marked with * are overridable, so you will need to ensure any custom ports you provide are also open</p><p>Although etcd ports are included in control-plane nodes, you can also host your own etcd cluster externally or on custom ports.</p><p>The pod network plugin you use (see below) may also require certain ports to be open. Since this differs with each pod network plugin, please see the documentation for the plugins about what port(s) those need.</p><h2 id="安装-runtime"><a class="anchor" href="#安装-runtime">#</a> 安装 runtime</h2><p>To run containers in Pods, Kubernetes uses a <span class="exturl" data-url="aHR0cHM6Ly9rdWJlcm5ldGVzLmlvL2RvY3Mvc2V0dXAvcHJvZHVjdGlvbi1lbnZpcm9ubWVudC9jb250YWluZXItcnVudGltZXM=">container runtime</span>.<br>从 v1.6.0 版本起，Kubernetes 开始默认允许使用 CRI（容器运行时接口）。</p><p>从 v1.14.0 版本起，kubeadm 将通过观察已知的 UNIX 域套接字来自动检测 Linux 节点上的容器运行时。 下表中是可检测到的正在运行的 runtime 和 socket 路径。</p><table><thead><tr><th style="text-align:left">运行时</th><th style="text-align:left">域套接字</th></tr></thead><tbody><tr><td style="text-align:left">Docker</td><td style="text-align:left">&lt;div style=&quot;width: 200pt&quot;&gt;/var/run/docker.sock&lt;/div&gt;</td></tr><tr><td style="text-align:left">containerd</td><td style="text-align:left">/run/containerd/containerd.sock</td></tr><tr><td style="text-align:left">CRI-O</td><td style="text-align:left">/var/run/crio/crio.sock</td></tr></tbody></table><p>如果同时检测到 docker 和 containerd，则优先选择 docker。 这是必然的，因为 docker 18.09 附带了 containerd 并且两者都是可以检测到的。 如果检测到其他两个或多个运行时，kubeadm 将以一个合理的错误信息退出。</p><p>在非 Linux 节点上，默认使用 docker 作为容器 runtime。</p><p>如果选择的容器 runtime 是 docker，则通过内置 dockershim CRI 在 kubelet 的内部实现其的应用。</p><p>基于 CRI 的其他 runtimes 有：</p><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NvbnRhaW5lcmQvY3Jp">containerd</span> （containerd 的内置 CRI 插件）</li><li><span class="exturl" data-url="aHR0cHM6Ly9jcmktby5pby8=">cri-o</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2t1YmVybmV0ZXMvZnJha3Rp">frakti</span></li></ul><p>请参考 <a href="/zh/docs/setup/production-environment/container-runtimes/">CRI 安装指南</a>获取更多信息。</p><h2 id="安装-kubeadm-kubelet-和-kubectl"><a class="anchor" href="#安装-kubeadm-kubelet-和-kubectl">#</a> 安装 kubeadm、kubelet 和 kubectl</h2><p>您需要在每台机器上安装以下的软件包：</p><ul><li><p><code>kubeadm</code> ：用来初始化集群的指令。</p></li><li><p><code>kubelet</code> ：在集群中的每个节点上用来启动 pod 和容器等。</p></li><li><p><code>kubectl</code> ：用来与集群通信的命令行工具。</p></li></ul><p>kubeadm <strong>不能</strong> 帮您安装或者管理 <code>kubelet</code> 或 <code>kubectl</code> ，所以您需要确保它们与通过 kubeadm 安装的控制平面的版本相匹配。<br>如果不这样做，则存在发生版本偏差的风险，可能会导致一些预料之外的错误和问题。<br>然而，控制平面与 kubelet 间的相差一个次要版本不一致是支持的，但 kubelet 的版本不可以超过 API 服务器的版本。<br>例如，1.7.0 版本的 kubelet 可以完全兼容 1.8.0 版本的 API 服务器，反之则不可以。</p><p>有关安装 <code>kubectl</code> 的信息，请参阅<a href="/zh/docs/tasks/tools/install-kubectl/">安装和设置 kubectl</a> 文档。</p><h2 id="warning"><a class="anchor" href="#warning">#</a> <strong>Warning</strong></h2><blockquote><p>这些指南不包括系统升级时使用的所有 Kubernetes 程序包。这是因为 kubeadm 和 Kubernetes<br>有<a href="/zh/docs/tasks/administer-cluster/kubeadm/kubeadm-upgrade/">特殊的升级注意事项</a>。</p></blockquote><p>关于版本偏差的更多信息，请参阅以下文档：</p><ul><li>Kubernetes <a href="/zh/docs/setup/release/version-skew-policy/">版本与版本间的偏差策略</a></li><li>Kubeadm-specific <a href="/zh/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#version-skew-policy">版本偏差策略</a></li></ul><h2 id="k8s_install"><a class="anchor" href="#k8s_install">#</a> k8s_install</h2><h3 id="ubuntu-debian-或-hypriotos"><a class="anchor" href="#ubuntu-debian-或-hypriotos">#</a> &quot;Ubuntu、Debian 或 HypriotOS&quot;</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y apt-transport-https <span class="token function">curl</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">curl</span> -s https://packages.cloud.google.com/apt/doc/apt-key.gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/kubernetes.list</span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>deb https://apt.kubernetes.io/ kubernetes-xenial main</pre></td></tr><tr><td data-num="5"></td><td><pre>EOF</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> update</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y kubelet kubeadm kubectl</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">sudo</span> apt-mark hold kubelet kubeadm kubectl</pre></td></tr></table></figure><h3 id="centos-rhel-或-fedora"><a class="anchor" href="#centos-rhel-或-fedora">#</a> &quot;CentOS、RHEL 或 Fedora&quot;</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">></span> /etc/yum.repos.d/kubernetes.repo</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>[kubernetes]</pre></td></tr><tr><td data-num="3"></td><td><pre>name=Kubernetes</pre></td></tr><tr><td data-num="4"></td><td><pre>baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64</pre></td></tr><tr><td data-num="5"></td><td><pre>enabled=1</pre></td></tr><tr><td data-num="6"></td><td><pre>gpgcheck=1</pre></td></tr><tr><td data-num="7"></td><td><pre>repo_gpgcheck=1</pre></td></tr><tr><td data-num="8"></td><td><pre>gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg</pre></td></tr><tr><td data-num="9"></td><td><pre>EOF</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment"># 将 SELinux 设置为 permissive 模式（相当于将其禁用）</span></pre></td></tr><tr><td data-num="12"></td><td><pre>setenforce <span class="token number">0</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">sed</span> -i <span class="token string">'s/^SELINUX=enforcing$/SELINUX=permissive/'</span> /etc/selinux/config</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>yum <span class="token function">install</span> -y kubelet kubeadm kubectl --disableexcludes<span class="token operator">=</span>kubernetes</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>systemctl <span class="token builtin class-name">enable</span> --now kubelet</pre></td></tr></table></figure><p><strong>请注意：</strong></p><ul><li><p>通过运行命令 <code>setenforce 0</code> 和 <code>sed ...</code> 将 SELinux 设置为 permissive 模式可以有效的将其禁用。<br>这是允许容器访问主机文件系统所必须的，例如正常使用 pod 网络。<br>您必须这么做，直到 kubelet 做出升级支持 SELinux 为止。</p></li><li><p>一些 RHEL/CentOS 7 的用户曾经遇到过问题：由于 iptables 被绕过而导致流量无法正确路由的问题。您应该确保<br>在 <code>sysctl</code> 配置中的 <code>net.bridge.bridge-nf-call-iptables</code> 被设置为 1。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">></span>  /etc/sysctl.d/k8s.conf</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>net.bridge.bridge-nf-call-ip6tables = 1</pre></td></tr><tr><td data-num="3"></td><td><pre>net.bridge.bridge-nf-call-iptables = 1</pre></td></tr><tr><td data-num="4"></td><td><pre>EOF</pre></td></tr><tr><td data-num="5"></td><td><pre>sysctl --system</pre></td></tr></table></figure></li><li><p>确保在此步骤之前已加载了 <code>br_netfilter</code> 模块。这可以通过运行 <code>lsmod | grep br_netfilter</code> 来完成。要显示加载它，请调用 <code>modprobe br_netfilter</code> 。</p></li></ul><p>kubelet 现在每隔几秒就会重启，因为它陷入了一个等待 kubeadm 指令的死循环。</p><h2 id="在控制平面节点上配置-kubelet-使用的-cgroup-驱动程序"><a class="anchor" href="#在控制平面节点上配置-kubelet-使用的-cgroup-驱动程序">#</a> 在控制平面节点上配置 kubelet 使用的 cgroup 驱动程序</h2><p>使用 docker 时，kubeadm 会自动为其检测 cgroup 驱动并在运行时对 <code>/var/lib/kubelet/kubeadm-flags.env</code> 文件进行配置。</p><p>如果您使用不同的 CRI，您需要使用 <code>cgroup-driver</code> 值修改 <code>/etc/default/kubelet</code> 文件（对于 CentOS、RHEL、Fedora，修改 <code>/etc/sysconfig/kubelet</code> 文件），像这样：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token assign-left variable">KUBELET_EXTRA_ARGS</span><span class="token operator">=</span>--cgroup-driver<span class="token operator">=</span><span class="token operator">&lt;</span>value<span class="token operator">></span></pre></td></tr></table></figure><p>这个文件将由 <code>kubeadm init</code> 和 <code>kubeadm join</code> 使用以获取额外的用户自定义的 kubelet 参数。</p><p>请注意，您 <strong>只</strong> 需要在您的 cgroup 驱动程序不是 <code>cgroupfs</code> 时这么做，因为它已经是 kubelet 中的默认值。</p><p>需要重新启动 kubelet：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>systemctl daemon-reload</pre></td></tr><tr><td data-num="2"></td><td><pre>systemctl restart kubelet</pre></td></tr></table></figure><p>自动检测其他容器运行时的 cgroup 驱动，例如在进程中工作的 CRI-O 和 containerd。</p><h2 id="故障排查"><a class="anchor" href="#故障排查">#</a> 故障排查</h2><p>如果您在使用 kubeadm 时遇到困难，请参阅我们的<a href="/zh/docs/setup/production-environment/tools/kubeadm/troubleshooting-kubeadm/">故障排查文档</a>。</p><div class="tags"><a href="/tags/kubernetes/" rel="tag"><i class="ic i-tag"></i> kubernetes</a></div></div><footer><div class="meta"></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Kung-Fu-Master 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Kung-Fu-Master 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Kung-Fu-Master 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Kung-Fu-Master <i class="ic i-at"><em>@</em></i>Hexo</li><li class="link"><strong>本文链接：</strong> <a href="https://kung-fu-master.github.io/2021/03/13/micro_service/kubernetes/01_kubernetes%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E5%92%8C%E9%85%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6/" title="01 Kubernetes安装方式和配置条件">https://kung-fu-master.github.io/2021/03/13/micro_service/kubernetes/01_kubernetes安装方式和配置条件/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/03/13/micro_service/kubernetes/01_kubernetes_high_availablity_build/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giph4wqtg4j20zk0m8x6p.jpg" title="01 Kubernetes build high availability"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> kubernetes</span><h3>01 Kubernetes build high availability</h3></a></div><div class="item right"><a href="/2021/03/13/micro_service/istio/istio%E6%9F%A5%E7%9C%8B%E8%AF%81%E4%B9%A6/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicit31ffoj20zk0m8naf.jpg" title="Istio 查看证书"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> istio</span><h3>Istio 查看证书</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装方法"><span class="toc-number">1.</span> <span class="toc-text"># 安装方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#before-you-begin"><span class="toc-number">2.</span> <span class="toc-text"># Before you begin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#verify-the-mac-address-and-product_uuid-are-unique-for-every-node"><span class="toc-number">3.</span> <span class="toc-text"># Verify the MAC address and product_uuid are unique for every node</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#检查网络适配器"><span class="toc-number">4.</span> <span class="toc-text"># 检查网络适配器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#确保-iptables-工具不使用-nftables-后端"><span class="toc-number">5.</span> <span class="toc-text"># 确保 iptables 工具不使用 nftables 后端</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iptables_legacy"><span class="toc-number">5.1.</span> <span class="toc-text"># iptables_legacy</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#debian-或-ubuntu"><span class="toc-number">5.1.1.</span> <span class="toc-text"># &quot;Debian 或 Ubuntu&quot;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fedora"><span class="toc-number">5.1.2.</span> <span class="toc-text"># &quot;Fedora&quot;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#检查所需端口"><span class="toc-number">6.</span> <span class="toc-text"># 检查所需端口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#控制平面节点s"><span class="toc-number">6.1.</span> <span class="toc-text"># 控制平面节点 (s)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工作节点s"><span class="toc-number">6.2.</span> <span class="toc-text"># 工作节点 (s)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-runtime"><span class="toc-number">7.</span> <span class="toc-text"># 安装 runtime</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-kubeadm-kubelet-和-kubectl"><span class="toc-number">8.</span> <span class="toc-text"># 安装 kubeadm、kubelet 和 kubectl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#warning"><span class="toc-number">9.</span> <span class="toc-text"># Warning</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#k8s_install"><span class="toc-number">10.</span> <span class="toc-text"># k8s_install</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ubuntu-debian-或-hypriotos"><span class="toc-number">10.1.</span> <span class="toc-text"># &quot;Ubuntu、Debian 或 HypriotOS&quot;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#centos-rhel-或-fedora"><span class="toc-number">10.2.</span> <span class="toc-text"># &quot;CentOS、RHEL 或 Fedora&quot;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在控制平面节点上配置-kubelet-使用的-cgroup-驱动程序"><span class="toc-number">11.</span> <span class="toc-text"># 在控制平面节点上配置 kubelet 使用的 cgroup 驱动程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#故障排查"><span class="toc-number">12.</span> <span class="toc-text"># 故障排查</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/03/13/micro_service/kubernetes/02_kubernetes_roles_introduction/" rel="bookmark" title="02 kubernetes introduction">02 kubernetes introduction</a></li><li><a href="/2021/03/13/micro_service/kubernetes/01_etcd_high_availablity/" rel="bookmark" title="01 部署external etcd集群">01 部署external etcd集群</a></li><li class="active"><a href="/2021/03/13/micro_service/kubernetes/01_kubernetes%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E5%92%8C%E9%85%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6/" rel="bookmark" title="01 Kubernetes安装方式和配置条件">01 Kubernetes安装方式和配置条件</a></li><li><a href="/2021/03/13/micro_service/kubernetes/01_kubernetes_high_availablity_build/" rel="bookmark" title="01 Kubernetes build high availability">01 Kubernetes build high availability</a></li><li><a href="/2021/03/13/micro_service/kubernetes/01_kubernetes_build/" rel="bookmark" title="01 Kubernetes build with kubeadm">01 Kubernetes build with kubeadm</a></li><li><a href="/2021/03/13/micro_service/kubernetes/04_kubernetes_service/" rel="bookmark" title="04 Kubernetes service">04 Kubernetes service</a></li><li><a href="/2021/03/13/micro_service/kubernetes/03_kubernetes_ns_pod/" rel="bookmark" title="03 Kubernetes nodes, namespace, pod">03 Kubernetes nodes, namespace, pod</a></li><li><a href="/2021/03/13/micro_service/kubernetes/05_kubernetes_volume/" rel="bookmark" title="05 Kubernetes volumes">05 Kubernetes volumes</a></li><li><a href="/2021/03/13/micro_service/kubernetes/06_kubernetes_deployment/" rel="bookmark" title="06 Kubernetes deployment">06 Kubernetes deployment</a></li><li><a href="/2021/03/13/micro_service/kubernetes/07_kubernetes_Etcd/" rel="bookmark" title="07 Kubernetes Etcd">07 Kubernetes Etcd</a></li><li><a href="/2021/03/13/micro_service/kubernetes/10_kubernetes_plugin/" rel="bookmark" title="10 Kubernetes plugin">10 Kubernetes plugin</a></li><li><a href="/2021/03/13/micro_service/kubernetes/09_kubernetes_certificate/" rel="bookmark" title="09 Kubernetes Certificates">09 Kubernetes Certificates</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_port_forward/" rel="bookmark" title="使用端口转发(Port Forwarding)来访问集群中的应用">使用端口转发(Port Forwarding)来访问集群中的应用</a></li><li><a href="/2021/03/13/micro_service/kubernetes/08_kubernetes_samples_problems/" rel="bookmark" title="08 Kubernetes samples and problems">08 Kubernetes samples and problems</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/" rel="bookmark" title="k8s操作命令">k8s操作命令</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_command_args_entrypoint_cmd%E5%8C%BA%E5%88%AB/" rel="bookmark" title="k8s command, args, entrypoint, cmd 区别">k8s command, args, entrypoint, cmd 区别</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_configmap/" rel="bookmark" title="k8s configmap">k8s configmap</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_node%E8%8A%82%E7%82%B9reset%E5%90%8E%E9%87%8D%E6%96%B0%E5%8A%A0%E5%85%A5%E9%9B%86%E7%BE%A4/" rel="bookmark" title="k8s node 节点reset后重新加入集群">k8s node 节点reset后重新加入集群</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_resources%E5%92%8C%E9%A9%B1%E9%80%90%E7%AD%96%E7%95%A5/" rel="bookmark" title="k8s resources和驱逐策略">k8s resources和驱逐策略</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_%E5%AF%B9%E8%B1%A1%E5%90%8D%E7%A7%B0%E5%92%8CIDs/" rel="bookmark" title="k8s_对象名称和IDs">k8s_对象名称和IDs</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s%20encounter%20problem/" rel="bookmark" title="k8s部署遇到的问题">k8s部署遇到的问题</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s_secret/" rel="bookmark" title="k8s secret">k8s secret</a></li><li><a href="/2021/03/13/micro_service/kubernetes/metrics-server,kubernetes-dashboard/" rel="bookmark" title="Metrics-Server, Kubernetes-Dashboard">Metrics-Server, Kubernetes-Dashboard</a></li><li><a href="/2021/03/13/micro_service/kubernetes/kubernetes_upgrade/" rel="bookmark" title="kubernetes upgrade">kubernetes upgrade</a></li><li><a href="/2021/03/13/micro_service/kubernetes/kubernetes_%E5%87%86%E5%85%A5%E6%8E%A7%E5%88%B6/" rel="bookmark" title="kubernetes 准入控制">kubernetes 准入控制</a></li><li><a href="/2021/03/13/micro_service/kubernetes/k8s%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8pod%E7%AD%89%E8%B5%84%E6%BA%90/" rel="bookmark" title="k8s重新启动pod等资源">k8s重新启动pod等资源</a></li><li><a href="/2021/03/13/micro_service/kubernetes/%E5%88%A0%E9%99%A4crd,pod,pv,pvc%E7%AD%89%E8%B5%84%E6%BA%90/" rel="bookmark" title="删除crd,pod,pv,pvc等资源">删除crd,pod,pv,pvc等资源</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Kung-Fu-Master" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Kung-Fu-Master</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">292</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">40</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">12</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdXJuYW1l" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/03/13/micro_service/kubernetes/01_kubernetes_high_availablity_build/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/03/13/micro_service/istio/istio%E6%9F%A5%E7%9C%8B%E8%AF%81%E4%B9%A6/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/technologies/" title="分类于 technologies">technologies</a> <i class="ic i-angle-right"></i> <a href="/categories/technologies/security/" title="分类于 security">security</a></div><span><a href="/2021/03/13/linux/aws-sdk-cpp%E4%BA%9A%E9%A9%AC%E9%80%8A/" title="亚马逊aws-sdk-cpp">亚马逊aws-sdk-cpp</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于 linux">linux</a></div><span><a href="/2021/03/13/linux/%E7%A1%AC%E7%9B%98%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E5%8D%95%E4%BD%8DGB/" title="硬盘存储空间单位GB">硬盘存储空间单位GB</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于 linux">linux</a></div><span><a href="/2021/03/13/linux/fdisk%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA_mount/" title="fdisk磁盘分区 mount操作">fdisk磁盘分区 mount操作</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/microService/" title="分类于 microService">microService</a> <i class="ic i-angle-right"></i> <a href="/categories/microService/istio/" title="分类于 istio">istio</a></div><span><a href="/2021/03/13/micro_service/istio/istio_cert_manager/" title="istio cert-manager">istio cert-manager</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/microService/" title="分类于 microService">microService</a> <i class="ic i-angle-right"></i> <a href="/categories/microService/istio/" title="分类于 istio">istio</a></div><span><a href="/2021/03/13/micro_service/istio/istio_02_installation_upgrade/" title="Istio 02 Installation and upgrade">Istio 02 Installation and upgrade</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/microService/" title="分类于 microService">microService</a> <i class="ic i-angle-right"></i> <a href="/categories/microService/istio/" title="分类于 istio">istio</a></div><span><a href="/2021/03/13/micro_service/istio/istio_%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6/" title="Istio 设置请求超时">Istio 设置请求超时</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/reference/" title="分类于 reference">reference</a> <i class="ic i-angle-right"></i> <a href="/categories/reference/k8s/" title="分类于 k8s">k8s</a></div><span><a href="/2021/03/13/reference/k8s/54.%E7%89%B9%E5%88%AB%E6%94%BE%E9%80%81.%E5%9F%BA%E4%BA%8E%20Kubernetes%20%E7%9A%84%E4%BA%91%E5%8E%9F%E7%94%9F%E5%BA%94%E7%94%A8%E7%AE%A1%E7%90%86%EF%BC%8C%E5%88%B0%E5%BA%95%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%81%9A/" title="54 | 特别放送 | 基于 Kubernetes 的云原生应用管理，到底应该怎么做？">54 | 特别放送 | 基于 Kubernetes 的云原生应用管理，到底应该怎么做？</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于 linux">linux</a></div><span><a href="/2021/03/13/linux/Intel_pstate&HWP%E5%8A%9F%E8%83%BDenable_disable/" title="Intel_pstate &amp; HWP功能enable&#x2F;disable">Intel_pstate & HWP功能enable/disable</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technologies/" title="分类于 technologies">technologies</a> <i class="ic i-angle-right"></i> <a href="/categories/technologies/git/" title="分类于 git">git</a></div><span><a href="/2021/03/13/technologies/git/git_commands/" title="git commands">git commands</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/language/" title="分类于 language">language</a> <i class="ic i-angle-right"></i> <a href="/categories/language/cpp/" title="分类于 cpp">cpp</a></div><span><a href="/2021/03/13/language/cpp/04_destructor/" title="04 Destructor">04 Destructor</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Kung-Fu-Master @ Kung Fu Master</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.1m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">16:30</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/03/13/micro_service/kubernetes/01_kubernetes安装方式和配置条件/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->