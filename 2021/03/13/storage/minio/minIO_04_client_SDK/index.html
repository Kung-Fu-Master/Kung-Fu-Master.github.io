<!-- build time:Fri Jun 11 2021 00:17:21 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Hexo" href="https://kung-fu-master.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Hexo" href="https://kung-fu-master.github.io/atom.xml"><link rel="alternate" type="application/json" title="Hexo" href="https://kung-fu-master.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="storage"><link rel="canonical" href="https://kung-fu-master.github.io/2021/03/13/storage/minio/minIO_04_client_SDK/"><title>MinIO 04 client SDK - minio - storage | Kung Fu Master = Hexo</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MinIO 04 client SDK</h1><div class="meta"><span class="item" title="创建时间：2021-03-13 13:00:42"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-03-13T13:00:42+08:00">2021-03-13</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>10k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>9 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Kung Fu Master</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclwuom7cj20zk0m8dvn.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclip4jbpj20zk0m87cv.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxxcb6rj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph4lm9i7j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxp31goj20zk0m8qv5.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexoj0moj20zk0m8kgu.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/storage/" itemprop="item" rel="index" title="分类于 storage"><span itemprop="name">storage</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/storage/minio/" itemprop="item" rel="index" title="分类于 minio"><span itemprop="name">minio</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://kung-fu-master.github.io/2021/03/13/storage/minio/minIO_04_client_SDK/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Kung-Fu-Master"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><div class="body md" itemprop="articleBody"><h2 id="reference"><a class="anchor" href="#reference">#</a> Reference</h2><p>参考下载并生成 AWS s3 SDK<br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3Nkay1mb3ItY3BwL3YxL2RldmVsb3Blci1ndWlkZS9zZXR1cC5odG1s">Setting Up the AWS SDK for C++</span></p><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2F3cy9hd3Mtc2RrLWNwcA==">source code</span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2F3cy9hd3Mtc2RrLWNwcC9ibG9iL21hc3Rlci9Eb2NzL1NES191c2FnZV9ndWlkZS5tZA==">SDK_usage_guide.md</span><br><span class="exturl" data-url="aHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9ibG9ncy9kZXZlbG9wZXIvdXNpbmctY21ha2UtZXhwb3J0cy13aXRoLXRoZS1hd3Mtc2RrLWZvci1jLw==">Using CMake Exports with the AWS SDK for C++</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3Nkay1mb3ItY3BwL3YxL2RldmVsb3Blci1ndWlkZS93ZWxjb21lLmh0bWw=">AWS SDK for C++ Developer Guide</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL3Nkay1mb3ItY3BwL3YxL2RldmVsb3Blci1ndWlkZS9leGFtcGxlcy1zMy1idWNrZXRzLmh0bWw=">Creating, Listing, and Deleting Buckets</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZGUtc2FtcGxlcy9sYXRlc3QvY2F0YWxvZy93ZWxjb21lLmh0bWw=">AWS Code Sample Catalog</span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2F3c2RvY3MvYXdzLWRvYy1zZGstZXhhbXBsZXMvdHJlZS9tYXN0ZXIvY3BwL2V4YW1wbGVfY29kZS9zMw==">aws-doc-sdk-examples</span></p><h2 id="samples"><a class="anchor" href="#samples">#</a> <strong>Samples</strong></h2><h3 id="c-sdk"><a class="anchor" href="#c-sdk">#</a> <strong>c++ SDK</strong></h3><p>gcc/g++ 4.9+</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ g++ -v</pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	gcc version <span class="token number">8.3</span>.1 <span class="token number">20190311</span> <span class="token punctuation">(</span>Red Hat <span class="token number">8.3</span>.1-3<span class="token punctuation">)</span> <span class="token punctuation">(</span>GCC<span class="token punctuation">)</span></pre></td></tr></table></figure><p>安装 cmake</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ cmake --version</pre></td></tr><tr><td data-num="2"></td><td><pre>	cmake version <span class="token number">3.17</span>.0</pre></td></tr><tr><td data-num="3"></td><td><pre>	CMake suite maintained and supported by Kitware <span class="token punctuation">(</span>kitware.com/cmake<span class="token punctuation">)</span>.</pre></td></tr></table></figure><p>安装依赖库 openssl &amp; curl</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ yum <span class="token function">install</span> openssl-devel libcurl-devel</pre></td></tr></table></figure><p>升级 curl</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">rpm</span> -Uvh https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/l/libmetalink-0.1.3-1.el7.x86_64.rpm</pre></td></tr><tr><td data-num="2"></td><td><pre>	$ yum --showduplicates list <span class="token function">curl</span> --disablerepo<span class="token operator">=</span><span class="token string">"*"</span> --enablerepo<span class="token operator">=</span><span class="token string">"city*"</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	$ curl.x86_64                                            <span class="token number">7.72</span>.0-2.0.cf.rhel7                                             @city-fan.org</pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	Available Packages</pre></td></tr><tr><td data-num="6"></td><td><pre>	curl.x86_64                                            <span class="token number">7.72</span>.0-2.0.cf.rhel7                                             city-fan.org</pre></td></tr></table></figure><h4 id="download-aws-sdk"><a class="anchor" href="#download-aws-sdk">#</a> Download aws sdk</h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">wget</span> https://github.com/aws/aws-sdk-cpp/archive/1.8.55.tar.gz</pre></td></tr><tr><td data-num="2"></td><td><pre>	$ <span class="token function">tar</span> -zxvf <span class="token number">1.8</span>.55.tar.gz</pre></td></tr><tr><td data-num="3"></td><td><pre>	$ <span class="token function">mkdir</span> build_dir</pre></td></tr><tr><td data-num="4"></td><td><pre>	$ <span class="token builtin class-name">cd</span> build_dir</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">(</span>编译全部, 会耗费一个小时左右时间, 推荐使用以下只编译S3 <span class="token function">service</span><span class="token punctuation">)</span>$ cmake /home/***/aws-sdk-cpp-1.8.55/ -DCMAKE_BUILD_TYPE<span class="token operator">=</span>Debug</pre></td></tr><tr><td data-num="6"></td><td><pre>	$ cmake /home/***/aws-sdk-cpp-1.8.55/ -D <span class="token assign-left variable">CMAKE_BUILD_TYPE</span><span class="token operator">=</span><span class="token punctuation">[</span>Debug <span class="token operator">|</span> Release<span class="token punctuation">]</span> -D <span class="token assign-left variable">BUILD_ONLY</span><span class="token operator">=</span><span class="token string">"s3"</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">make</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">make</span> <span class="token function">install</span> // 安装头文件等到系统/usr/local/include目录</pre></td></tr></table></figure><h4 id="开发sdk"><a class="anchor" href="#开发sdk">#</a> 开发 SDK</h4><p>拷贝 aws sdk 的头文件和动态库到项目目录</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>// 拷贝整个aws头文件到项目目录</pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token function">cp</span> /usr/local/include/aws ***/cpp/include/</pre></td></tr><tr><td data-num="3"></td><td><pre>	</pre></td></tr><tr><td data-num="4"></td><td><pre>	// 拷贝aws两个动态库到项目目录</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token function">cp</span> /usr/local/lib64/libaws-cpp-sdk-core.so ***/cpp/libs/</pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">cp</span> /usr/local/lib64/libaws-cpp-sdk-s3.so ***/cpp/libs/</pre></td></tr></table></figure><p>查看项目目录</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">ls</span> cpp</pre></td></tr><tr><td data-num="2"></td><td><pre>	CMakeLists.txt  include/  libs/  main/  src/</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>	$ tree cpp</pre></td></tr><tr><td data-num="5"></td><td><pre>	cpp</pre></td></tr><tr><td data-num="6"></td><td><pre>	├── CMakeLists.txt</pre></td></tr><tr><td data-num="7"></td><td><pre>	├── include</pre></td></tr><tr><td data-num="8"></td><td><pre>	│   ├── aws</pre></td></tr><tr><td data-num="9"></td><td><pre>	│   │   ├── core</pre></td></tr><tr><td data-num="10"></td><td><pre>	│   │   │   ├── Aws.h</pre></td></tr><tr><td data-num="11"></td><td><pre>	│   │   │   └── <span class="token punctuation">..</span><span class="token punctuation">..</span>h</pre></td></tr><tr><td data-num="12"></td><td><pre>	│   │   ├── s3</pre></td></tr><tr><td data-num="13"></td><td><pre>	│   │   │   ├── model</pre></td></tr><tr><td data-num="14"></td><td><pre>	│   │   │   │   ├── Bucket.h</pre></td></tr><tr><td data-num="15"></td><td><pre>	│   │   │   │   ├── CreateBucketRequest.h</pre></td></tr><tr><td data-num="16"></td><td><pre>	│   │   │   │   └── <span class="token punctuation">..</span><span class="token punctuation">..</span>h</pre></td></tr><tr><td data-num="17"></td><td><pre>	│   │   │   ├── S3Client.h</pre></td></tr><tr><td data-num="18"></td><td><pre>	│   │   │   └── <span class="token punctuation">..</span><span class="token punctuation">..</span>h</pre></td></tr><tr><td data-num="19"></td><td><pre>	│   │   └── utils</pre></td></tr><tr><td data-num="20"></td><td><pre>	│   │       ├── StringUtils.h</pre></td></tr><tr><td data-num="21"></td><td><pre>	│   │       ├── UUID.h</pre></td></tr><tr><td data-num="22"></td><td><pre>	│   │       └── <span class="token punctuation">..</span><span class="token punctuation">..</span>h</pre></td></tr><tr><td data-num="23"></td><td><pre>	│   └── minio_client_sdk.h</pre></td></tr><tr><td data-num="24"></td><td><pre>	├── libs</pre></td></tr><tr><td data-num="25"></td><td><pre>	│   ├── libaws-cpp-sdk-core.so</pre></td></tr><tr><td data-num="26"></td><td><pre>	│   ├── libaws-cpp-sdk-s3.so</pre></td></tr><tr><td data-num="27"></td><td><pre>	│   └── libminio_client_SDK.so</pre></td></tr><tr><td data-num="28"></td><td><pre>	├── main</pre></td></tr><tr><td data-num="29"></td><td><pre>	│   ├── CMakeLists.txt</pre></td></tr><tr><td data-num="30"></td><td><pre>	│   └── main.cpp</pre></td></tr><tr><td data-num="31"></td><td><pre>	└── src</pre></td></tr><tr><td data-num="32"></td><td><pre>	    ├── CMakeLists.txt</pre></td></tr><tr><td data-num="33"></td><td><pre>	    └── minio_client_sdk.cpp</pre></td></tr></table></figure><h4 id="cppcmakeliststxt"><a class="anchor" href="#cppcmakeliststxt">#</a> <strong>cpp/CMakeLists.txt</strong></h4><pre><code>	CMAKE_MINIMUM_REQUIRED(VERSION 3.14)
	
	project(minio_SDK)
	
	#头文件查找优先级高于系统默认目录/usr/include和/usr/local/include
	INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include)
	
	ADD_SUBDIRECTORY(${PROJECT_SOURCE_DIR}/src)
	
	add_subdirectory(${PROJECT_SOURCE_DIR}/main)
	
	#MESSAGE(STATUS ${SRC_LIST})
</code></pre><h4 id="cppmain"><a class="anchor" href="#cppmain">#</a> <strong>cpp/main</strong></h4><p><strong>cpp/main/CMakeLists.txt</strong></p><pre><code>	#头文件搜索目录,PROJECT_SOURCE_DIR为cmake预定义变量，项目的顶层目录
	include_directories(${PROJECT_SOURCE_DIR}/include)
	
	#链接库搜索目录
	#它相当于g++命令的-L选项的作用，也相当于环境变量中增加LD_LIBRARY_PATH的路径的作用
	link_directories(${PROJECT_SOURCE_DIR}/libs)
	
	#重新定义目标二进制可执行文件的存放位置
	set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/build/bin)
	
	add_executable(main main.cpp) #生成.cpp文件的可执行文件
	
	#指定多个链接库
	target_link_libraries(main minio_client_SDK aws-cpp-sdk-core aws-cpp-sdk-s3)
</code></pre><p><strong>cpp/main/main.cpp</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/S3Client.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;minio_client_sdk.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	</pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	    string minio_server_address <span class="token operator">=</span> <span class="token string">"127.0.0.1:30007"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	    string access_key <span class="token operator">=</span> <span class="token string">"hceminio"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	    string access_secret <span class="token operator">=</span> <span class="token string">"hceminio123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	    Aws<span class="token operator">::</span>SDKOptions m_options<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	    S3Client <span class="token operator">*</span>m_client <span class="token operator">=</span> <span class="token function">access_minio_server</span><span class="token punctuation">(</span>minio_server_address<span class="token punctuation">,</span> m_options<span class="token punctuation">,</span> access_key<span class="token punctuation">,</span> access_secret<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	</pre></td></tr><tr><td data-num="14"></td><td><pre>	    string uuid <span class="token operator">=</span> <span class="token function">random_UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"UUID: "</span> <span class="token operator">&lt;&lt;</span> uuid <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	    <span class="token function">delete_Bucket</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket04"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	    <span class="token function">list_Buckets</span><span class="token punctuation">(</span>m_client<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	    <span class="token function">create_Bucket</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket04"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	</pre></td></tr><tr><td data-num="20"></td><td><pre>	    <span class="token function">list_Objects</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket01"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	    <span class="token function">delete_Object</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket01"</span><span class="token punctuation">,</span> <span class="token string">"pic_object1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	    <span class="token function">download_Object</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket01"</span><span class="token punctuation">,</span> <span class="token string">"clean.sh"</span><span class="token punctuation">,</span> <span class="token string">"t1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	    <span class="token function">upload_Object</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> <span class="token string">"bucket01"</span><span class="token punctuation">,</span> <span class="token string">"pic_object4"</span><span class="token punctuation">,</span> <span class="token string">"tt.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	</pre></td></tr><tr><td data-num="25"></td><td><pre>	    <span class="token function">close_minio_server</span><span class="token punctuation">(</span>m_client<span class="token punctuation">,</span> m_options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	</pre></td></tr><tr><td data-num="27"></td><td><pre>	    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="cppsrc"><a class="anchor" href="#cppsrc">#</a> <strong>cpp/src</strong></h4><p><strong>cpp/src/CMakeLists.txt</strong></p><pre><code>	#指定头文件搜索目录，若顶层CMakeLists.txt也指定了文件搜索目录，则该处可以省略
	#头文件查找优先级高于系统默认目录/usr/include和/usr/local/include
	include_directories(${PROJECT_SOURCE_DIR}/include)
	
	FILE(GLOB SRC_LIST &quot;${PROJECT_SOURCE_DIR}/src/*.cpp&quot;)
	
	#重新定义目标链接库文件的存放位置
	SET(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/libs)
	
	#将SRC_LIST变量中的所有.cpp文件编译生成库名为add的静态库
	#SHARED为生成动态库, STATIC为生成静态库.
	ADD_LIBRARY(minio_client_SDK SHARED ${SRC_LIST})
</code></pre><p><strong>cpp/src/minio_client_sdk.cpp</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MINIO_CLIENT_SDK</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>	</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/S3Client.h></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/core/Aws.h></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/core/auth/AWSCredentialsProvider.h></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/core/utils/StringUtils.h></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/core/utils/UUID.h></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>	</pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> Aws<span class="token operator">::</span>S3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	</pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/Bucket.h></span></span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/CreateBucketRequest.h></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/DeleteBucketRequest.h></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/DeleteObjectRequest.h></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/GetObjectRequest.h></span></span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/ListObjectsRequest.h></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/Object.h></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/model/PutObjectRequest.h></span></span></pre></td></tr><tr><td data-num="23"></td><td><pre>	</pre></td></tr><tr><td data-num="24"></td><td><pre>	S3Client <span class="token operator">*</span><span class="token function">access_minio_server</span><span class="token punctuation">(</span>string minio_server_address<span class="token punctuation">,</span> Aws<span class="token operator">::</span>SDKOptions m_options<span class="token punctuation">,</span> string access_key<span class="token punctuation">,</span> string access_secret<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	    S3Client <span class="token operator">*</span>m_client <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token constant">NULL</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	</pre></td></tr><tr><td data-num="28"></td><td><pre>	    <span class="token class-name">Aws</span><span class="token operator">::</span><span class="token function">InitAPI</span><span class="token punctuation">(</span>m_options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	    Aws<span class="token operator">::</span>Client<span class="token operator">::</span>ClientConfiguration cfg<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	    cfg<span class="token punctuation">.</span>endpointOverride <span class="token operator">=</span> minio_server_address<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	    cfg<span class="token punctuation">.</span>scheme <span class="token operator">=</span> Aws<span class="token operator">::</span>Http<span class="token operator">::</span>Scheme<span class="token operator">::</span>HTTP<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	    cfg<span class="token punctuation">.</span>verifySSL <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	    m_client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">S3Client</span><span class="token punctuation">(</span>Aws<span class="token operator">::</span><span class="token class-name">Auth</span><span class="token operator">::</span><span class="token function">AWSCredentials</span><span class="token punctuation">(</span>access_key<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> access_secret<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cfg<span class="token punctuation">,</span> Aws<span class="token operator">::</span>Client<span class="token operator">::</span>AWSAuthV4Signer<span class="token operator">::</span>PayloadSigningPolicy<span class="token operator">::</span>Never<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> Aws<span class="token operator">::</span>S3<span class="token operator">::</span>US_EAST_1_REGIONAL_ENDPOINT_OPTION<span class="token operator">::</span>NOT_SET<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	    <span class="token keyword">return</span> m_client<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	</pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">close_minio_server</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> Aws<span class="token operator">::</span>SDKOptions m_options<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_client <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	        <span class="token keyword">delete</span> m_client<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	        m_client <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	    <span class="token class-name">Aws</span><span class="token operator">::</span><span class="token function">ShutdownAPI</span><span class="token punctuation">(</span>m_options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	</pre></td></tr><tr><td data-num="46"></td><td><pre>	    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	</pre></td></tr><tr><td data-num="49"></td><td><pre>	string <span class="token function">random_UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	    Aws<span class="token operator">::</span>String random_uuid <span class="token operator">=</span> Aws<span class="token operator">::</span>Utils<span class="token operator">::</span><span class="token class-name">UUID</span><span class="token operator">::</span><span class="token function">RandomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	    Aws<span class="token operator">::</span>String uuid <span class="token operator">=</span> Aws<span class="token operator">::</span>Utils<span class="token operator">::</span><span class="token class-name">StringUtils</span><span class="token operator">::</span><span class="token function">ToLower</span><span class="token punctuation">(</span>random_uuid<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	    <span class="token keyword">return</span> uuid<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	</pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">list_Buckets</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>ListBucketsOutcome outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">ListBuckets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span>outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Bucket names:"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl</pre></td></tr><tr><td data-num="62"></td><td><pre>	                  <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	        Aws<span class="token operator">::</span>Vector<span class="token operator">&lt;</span>Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>Bucket<span class="token operator">></span> buckets <span class="token operator">=</span> outcome<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetBuckets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	        <span class="token keyword">for</span> <span class="token punctuation">(</span>Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>Bucket <span class="token operator">&amp;</span>bucket <span class="token operator">:</span> buckets<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	            std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> bucket<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: ListBuckets: "</span> <span class="token operator">&lt;&lt;</span> outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	</pre></td></tr><tr><td data-num="74"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	</pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">create_Bucket</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>CreateBucketRequest request<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	    request<span class="token punctuation">.</span><span class="token function">SetBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>CreateBucketOutcome outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">CreateBucket</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	        <span class="token keyword">auto</span> err <span class="token operator">=</span> outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: CreateBucket: "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetExceptionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>	    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	</pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">delete_Bucket</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>DeleteBucketRequest request<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>	    request<span class="token punctuation">.</span><span class="token function">SetBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>DeleteBucketOutcome outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">DeleteBucket</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="98"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	        <span class="token keyword">auto</span> err <span class="token operator">=</span> outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: DeleteBucket: "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetExceptionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>	</pre></td></tr><tr><td data-num="106"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">list_Objects</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="107"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>ListObjectsRequest request<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	    request<span class="token punctuation">.</span><span class="token function">WithBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>	    <span class="token keyword">auto</span> outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">ListObjects</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span>outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Objects in bucket '"</span> <span class="token operator">&lt;&lt;</span> bucketName <span class="token operator">&lt;&lt;</span> <span class="token string">"':"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl</pre></td></tr><tr><td data-num="114"></td><td><pre>	                  <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	        Aws<span class="token operator">::</span>Vector<span class="token operator">&lt;</span>Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>Object<span class="token operator">></span> objects <span class="token operator">=</span> outcome<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="116"></td><td><pre>	        <span class="token keyword">for</span> <span class="token punctuation">(</span>Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>Object <span class="token operator">&amp;</span>object <span class="token operator">:</span> objects<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="117"></td><td><pre>	        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>	            std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> object<span class="token punctuation">.</span><span class="token function">GetKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="123"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: ListObjects: "</span> <span class="token operator">&lt;&lt;</span> outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>	</pre></td></tr><tr><td data-num="129"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">download_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">,</span> string pathKey<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="130"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="131"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>GetObjectRequest object_request<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>	    object_request<span class="token punctuation">.</span><span class="token function">WithBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithKey</span><span class="token punctuation">(</span>objectKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>	    <span class="token keyword">auto</span> get_object_outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">GetObject</span><span class="token punctuation">(</span>object_request<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span>get_object_outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="135"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>	        Aws<span class="token operator">::</span>OFStream local_file<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>	        local_file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>pathKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token operator">::</span>ios<span class="token operator">::</span>out <span class="token operator">|</span> std<span class="token operator">::</span>ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>	        local_file <span class="token operator">&lt;&lt;</span> get_object_outcome<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rdbuf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Done!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>	    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="143"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"GetObject error: "</span> <span class="token operator">&lt;&lt;</span> get_object_outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetExceptionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> get_object_outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="145"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="147"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="148"></td><td><pre>	</pre></td></tr><tr><td data-num="149"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">upload_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">,</span> string pathKey<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="150"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="151"></td><td><pre>	    PutObjectRequest putObjectRequest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>	    putObjectRequest<span class="token punctuation">.</span><span class="token function">WithBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithKey</span><span class="token punctuation">(</span>objectKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="153"></td><td><pre>	    <span class="token keyword">auto</span> input_data <span class="token operator">=</span> Aws<span class="token operator">::</span>MakeShared<span class="token operator">&lt;</span>Aws<span class="token operator">::</span>FStream<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"PutObjectInputStream"</span><span class="token punctuation">,</span> pathKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token operator">::</span>ios_base<span class="token operator">::</span>in <span class="token operator">|</span> std<span class="token operator">::</span>ios_base<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>	    putObjectRequest<span class="token punctuation">.</span><span class="token function">SetBody</span><span class="token punctuation">(</span>input_data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="155"></td><td><pre>	    <span class="token keyword">auto</span> putObjectResult <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">PutObject</span><span class="token punctuation">(</span>putObjectRequest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="156"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span>putObjectResult<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="157"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="158"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Done!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="159"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="160"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="161"></td><td><pre>	    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="162"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="163"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"PutObject error: "</span> <span class="token operator">&lt;&lt;</span> putObjectResult<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetExceptionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> putObjectResult<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="164"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="165"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="166"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="167"></td><td><pre>	</pre></td></tr><tr><td data-num="168"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">delete_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="169"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="170"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>DeleteObjectRequest request<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="171"></td><td><pre>	    request<span class="token punctuation">.</span><span class="token function">WithKey</span><span class="token punctuation">(</span>objectKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithBucket</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="172"></td><td><pre>	    Aws<span class="token operator">::</span>S3<span class="token operator">::</span>Model<span class="token operator">::</span>DeleteObjectOutcome outcome <span class="token operator">=</span> m_client<span class="token operator">-></span><span class="token function">DeleteObject</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="173"></td><td><pre>	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>outcome<span class="token punctuation">.</span><span class="token function">IsSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="174"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="175"></td><td><pre>	        <span class="token keyword">auto</span> err <span class="token operator">=</span> outcome<span class="token punctuation">.</span><span class="token function">GetError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="176"></td><td><pre>	        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Error: DeleteObject: "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetExceptionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="177"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="178"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="179"></td><td><pre>	    <span class="token keyword">else</span></pre></td></tr><tr><td data-num="180"></td><td><pre>	    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="181"></td><td><pre>	        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="182"></td><td><pre>	    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="183"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="cppinclude"><a class="anchor" href="#cppinclude">#</a> <strong>cpp/include</strong></h4><p><strong>cpp/include/minio_client_sdk.h</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/core/Aws.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;aws/s3/S3Client.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>	</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">using</span> <span class="token keyword">namespace</span> Aws<span class="token operator">::</span>S3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	</pre></td></tr><tr><td data-num="8"></td><td><pre>	S3Client <span class="token operator">*</span><span class="token function">access_minio_server</span><span class="token punctuation">(</span>string minio_server_address<span class="token punctuation">,</span> Aws<span class="token operator">::</span>SDKOptions m_options<span class="token punctuation">,</span> string access_key<span class="token punctuation">,</span> string access_secret<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">close_minio_server</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> Aws<span class="token operator">::</span>SDKOptions m_options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	</pre></td></tr><tr><td data-num="11"></td><td><pre>	string <span class="token function">random_UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">list_Buckets</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">create_Bucket</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">delete_Bucket</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	</pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">list_Objects</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">download_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">,</span> string pathKey<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">upload_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">,</span> string pathKey<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">bool</span> <span class="token function">delete_Object</span><span class="token punctuation">(</span>S3Client <span class="token operator">*</span>m_client<span class="token punctuation">,</span> string bucketName<span class="token punctuation">,</span> string objectKey<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="编译执行"><a class="anchor" href="#编译执行">#</a> <strong>编译执行</strong></h4><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> cpp</pre></td></tr><tr><td data-num="2"></td><td><pre>	$ <span class="token function">mkdir</span> build</pre></td></tr><tr><td data-num="3"></td><td><pre>	$ <span class="token builtin class-name">cd</span> build</pre></td></tr><tr><td data-num="4"></td><td><pre>	$ cmake <span class="token punctuation">..</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	$ <span class="token function">make</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	$ ./bin/main</pre></td></tr></table></figure><div class="tags"><a href="/tags/storage/" rel="tag"><i class="ic i-tag"></i> storage</a></div></div><footer><div class="meta"></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Kung-Fu-Master 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Kung-Fu-Master 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Kung-Fu-Master 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Kung-Fu-Master <i class="ic i-at"><em>@</em></i>Hexo</li><li class="link"><strong>本文链接：</strong> <a href="https://kung-fu-master.github.io/2021/03/13/storage/minio/minIO_04_client_SDK/" title="MinIO 04 client SDK">https://kung-fu-master.github.io/2021/03/13/storage/minio/minIO_04_client_SDK/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/03/13/technologies/docker/regenerateTestingCerts/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeyonbf9j20zk0m8e81.jpg" title="regenerateTestingCerts.sh"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> docker</span><h3>regenerateTestingCerts.sh</h3></a></div><div class="item right"><a href="/2021/03/13/storage/ceph/ceph_02_deployment/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclfb3vzhj20zk0m8wny.jpg" title="Ceph 02 deployment on Kubernetes"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> ceph</span><h3>Ceph 02 deployment on Kubernetes</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#reference"><span class="toc-number">1.</span> <span class="toc-text"># Reference</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#samples"><span class="toc-number">2.</span> <span class="toc-text"># Samples</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#c-sdk"><span class="toc-number">2.1.</span> <span class="toc-text"># c++ SDK</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#download-aws-sdk"><span class="toc-number">2.1.1.</span> <span class="toc-text"># Download aws sdk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#开发sdk"><span class="toc-number">2.1.2.</span> <span class="toc-text"># 开发 SDK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cppcmakeliststxt"><span class="toc-number">2.1.3.</span> <span class="toc-text"># cpp&#x2F;CMakeLists.txt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cppmain"><span class="toc-number">2.1.4.</span> <span class="toc-text"># cpp&#x2F;main</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cppsrc"><span class="toc-number">2.1.5.</span> <span class="toc-text"># cpp&#x2F;src</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cppinclude"><span class="toc-number">2.1.6.</span> <span class="toc-text"># cpp&#x2F;include</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#编译执行"><span class="toc-number">2.1.7.</span> <span class="toc-text"># 编译执行</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/03/13/storage/minio/minIO_01_conception/" rel="bookmark" title="MinIO 01 conception">MinIO 01 conception</a></li><li class="active"><a href="/2021/03/13/storage/minio/minIO_04_client_SDK/" rel="bookmark" title="MinIO 04 client SDK">MinIO 04 client SDK</a></li><li><a href="/2021/03/13/storage/minio/minIO_03_client.md/" rel="bookmark" title="MinIO 03 client">MinIO 03 client</a></li><li><a href="/2021/03/15/storage/minio/minIO_05_KMS/" rel="bookmark" title="05 Deploy MinIO with KMS(vault)">05 Deploy MinIO with KMS(vault)</a></li><li><a href="/2021/05/31/storage/minio/minIO_02_deployment_on_kubernetes/" rel="bookmark" title="MinIO 02 deployment on kubernetes">MinIO 02 deployment on kubernetes</a></li><li><a href="/2021/05/31/storage/minio/minIO_06_KMS_k8s/" rel="bookmark" title="06 Deploy Vault, Consul, KES, MinIO on kubernetes">06 Deploy Vault, Consul, KES, MinIO on kubernetes</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Kung-Fu-Master" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Kung-Fu-Master</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">318</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">42</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">14</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdXJuYW1l" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/03/13/technologies/docker/regenerateTestingCerts/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/03/13/storage/ceph/ceph_02_deployment/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/blogs/" title="分类于 blogs">blogs</a> <i class="ic i-angle-right"></i> <a href="/categories/blogs/blogs/" title="分类于 blogs">blogs</a></div><span><a href="/2021/03/13/blogs/blogs/Restful_API/" title="Restful API">Restful API</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/language/" title="分类于 language">language</a> <i class="ic i-angle-right"></i> <a href="/categories/language/python/" title="分类于 python">python</a></div><span><a href="/2021/03/13/language/python/Anaconda%E4%BD%BF%E7%94%A8conda%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6/" title="Aanconda conda配置proxy下载软件">Aanconda conda配置proxy下载软件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/language/" title="分类于 language">language</a> <i class="ic i-angle-right"></i> <a href="/categories/language/nodejs/" title="分类于 nodejs">nodejs</a></div><span><a href="/2021/03/13/language/nodejs/NodeJs%E7%AE%80%E4%BB%8B/" title="NodeJs简介">NodeJs简介</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/reference/" title="分类于 reference">reference</a> <i class="ic i-angle-right"></i> <a href="/categories/reference/k8s/" title="分类于 k8s">k8s</a></div><span><a href="/2021/03/13/reference/k8s/29.PV%E3%80%81PVC%E4%BD%93%E7%B3%BB%E6%98%AF%E4%B8%8D%E6%98%AF%E5%A4%9A%E6%AD%A4%E4%B8%80%E4%B8%BE%EF%BC%9F%E4%BB%8E%E6%9C%AC%E5%9C%B0%E6%8C%81%E4%B9%85%E5%8C%96%E5%8D%B7%E8%B0%88%E8%B5%B7/" title="29 | PV、PVC体系是不是多此一举？从本地持久化卷谈起">29 | PV、PVC体系是不是多此一举？从本地持久化卷谈起</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/microService/" title="分类于 microService">microService</a> <i class="ic i-angle-right"></i> <a href="/categories/microService/istio/" title="分类于 istio">istio</a></div><span><a href="/2021/03/13/microService/istio/istio_%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6/" title="Istio 设置请求超时">Istio 设置请求超时</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/microService/" title="分类于 microService">microService</a> <i class="ic i-angle-right"></i> <a href="/categories/microService/istio/" title="分类于 istio">istio</a></div><span><a href="/2021/03/13/microService/istio/istio_%E9%99%90%E5%88%B6%E8%AE%BF%E9%97%AE%E7%AD%96%E7%95%A5/" title="istio 限制访问策略">istio 限制访问策略</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于 linux">linux</a></div><span><a href="/2021/06/07/linux/environment_variable/" title="环境变量加载顺序">环境变量加载顺序</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/technologies/" title="分类于 technologies">technologies</a> <i class="ic i-angle-right"></i> <a href="/categories/technologies/security/" title="分类于 security">security</a></div><span><a href="/2021/03/13/technologies/security/pki/" title="PKI 体系概述">PKI 体系概述</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/blogs/" title="分类于 blogs">blogs</a> <i class="ic i-angle-right"></i> <a href="/categories/blogs/blogs/" title="分类于 blogs">blogs</a></div><span><a href="/2021/03/13/blogs/blogs/windows%E9%9F%B3%E7%AE%B1%E6%89%BE%E4%B8%8D%E5%88%B0/" title="windows音箱找不到, 没有声音">windows音箱找不到, 没有声音</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/linux/" title="分类于 linux">linux</a></div><span><a href="/2021/03/13/linux/linux%E6%9F%A5%E7%9C%8B%E8%BF%90%E8%A1%8C%E7%9A%84%E6%9C%8D%E5%8A%A1/" title="linux查看运行的服务">linux查看运行的服务</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Kung-Fu-Master @ Kung Fu Master</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.2m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">18:26</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/03/13/storage/minio/minIO_04_client_SDK/",favicon:{show:"（●´3｀●）",hide:"（●´3｀●）"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->